<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>exploit test</title>
<script type="text/javascript">
    // accesing a non porject file should fail
    async function fetchExternalProjectFile() {
        try{
            const response = await fetch("../movies.txt");
            const txt = await response.text();
            document.getElementById("status").innerText = txt;
            document.fetchedText = txt;
            // This is the error message to expect:
            // Security Warning from phcode.dev<br><br> This live preview attempted to access a non-project file.
            // Access was denied for your safety. Please exercise caution when working on untrusted projects.
        } catch (e){
            console.error(e);
            document.fetchedText = "ERRORED_OUT_TEST_SHOULD_FAIL_IF_REACHED_HERE";
        }
    }
    fetchExternalProjectFile();
</script>
</head>

<body class="testClass">
<div id="status"></div>
</body>
</html>
