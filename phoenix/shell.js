import init from"./init_vfs.js";import ERR_CODES from"./errno.js";import getBrowserDetails from"./browserDetails.js";import initTauriShell from"./tauriShell.js";function _getBaseURL(){let base=window.location.href.split("?")[0];return base.endsWith(".html")&&(base=base.slice(0,base.lastIndexOf("/"))),base.endsWith("/")||(base=`${base}/`),base}function _isTestWindow(){const isTestPhoenixWindow=!!new window.URLSearchParams(window.location.search||"").get("testEnvironment"),isSpecRunnerWindow=window.location.pathname.endsWith("/SpecRunner.html");return isTestPhoenixWindow||isSpecRunnerWindow}let Phoenix={browser:getBrowserDetails(),baseURL:_getBaseURL(),isTestWindow:_isTestWindow()},startTime=Date.now();window.Phoenix=Phoenix,init(Phoenix),Phoenix.app={getNodeState:function(cbfn){cbfn(new Error("Node cannot be run in phoenix browser mode"))},openURLInDefaultBrowser:function(url){window.open(url)},getApplicationSupportDirectory:Phoenix.VFS.getAppSupportDir,getUserDocumentsDirectory:Phoenix.VFS.getUserDocumentsDirectory,ERR_CODES:ERR_CODES,getElapsedMilliseconds:function(){return Date.now()-startTime},language:navigator.language},window.appshell||(window.appshell=Phoenix),window.__TAURI__&&initTauriShell();
//# sourceMappingURL=shell.js.map
