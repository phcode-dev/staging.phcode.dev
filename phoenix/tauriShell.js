const TAURI=window.__TAURI__,TAURI_KEYS={LAST_WINDOW_WIDTH:"tauri.LAST_WINDOW_WIDTH",LAST_WINDOW_HEIGHT:"tauri.LAST_WINDOW_HEIGHT"},appWindow=TAURI&&TAURI.window.appWindow;function _setupWindowResizeListeners(){appWindow.onResized(async({payload:size})=>{const maximized=await appWindow.isMaximized();maximized||(localStorage.setItem(TAURI_KEYS.LAST_WINDOW_HEIGHT,size.height),localStorage.setItem(TAURI_KEYS.LAST_WINDOW_WIDTH,size.width))})}async function positionWindow(){const phoenixAspectRatio=1.6,minWidth=800,minHeight=600;let monitorSize=(await TAURI.window.currentMonitor()).size,targetWindowHeight=2*monitorSize.height/3,targetWindowWidth=1.6*targetWindowHeight,targetHeight=parseInt(localStorage.getItem(TAURI_KEYS.LAST_WINDOW_HEIGHT)||`${targetWindowHeight}`),targetWidth=parseInt(localStorage.getItem(TAURI_KEYS.LAST_WINDOW_WIDTH)||`${targetWindowWidth}`);if(targetHeight.height>monitorSize.height||targetWidth.width>monitorSize.width)return appWindow.maximize(),void _setupWindowResizeListeners();targetHeight<600&&(targetHeight=600),targetWidth<800&&(targetWidth=800),await appWindow.setSize(new TAURI.window.PhysicalSize(targetWidth,targetHeight)),_setupWindowResizeListeners()}function initTauriShell(){positionWindow()}export default initTauriShell;
//# sourceMappingURL=tauriShell.js.map
