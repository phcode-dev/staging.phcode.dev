define(function(require,exports,module){const Strings=require("strings"),NodeConnector=require("NodeConnector"),UTILS_NODE_CONNECTOR="ph_utils";let utilsConnector;async function fetchURLText(url,encoding){if(!Phoenix.browser.isTauri)throw new Error("node not available in browser");const{buffer:buffer}=await utilsConnector.execPeer("getURLContent",{url:url});return iconv.decode(Buffer.from(buffer),encoding)}async function updateNodeLocaleStrings(){return!!Phoenix.browser.isTauri&&(await utilsConnector.execPeer("setLocaleStrings",Strings),!0)}Phoenix.browser.isTauri&&(utilsConnector=NodeConnector.createNodeConnector("ph_utils",exports)),NodeConnector.isNodeAvailable()&&updateNodeLocaleStrings(),exports.fetchURLText=fetchURLText,exports.updateNodeLocaleStrings=updateNodeLocaleStrings});
//# sourceMappingURL=NodeUtils.js.map
