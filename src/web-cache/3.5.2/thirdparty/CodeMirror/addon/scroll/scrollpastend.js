!function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";function onChange(cm,change){CodeMirror.changeEnd(change).line==cm.lastLine()&&updateBottomMargin(cm)}function updateBottomMargin(cm){var padding="",totalH,lastLineH;cm.lineCount()>1&&(padding=cm.display.scroller.clientHeight-30-cm.getLineHandle(cm.lastLine()).height+"px");cm.state.scrollPastEndPadding!=padding&&(cm.state.scrollPastEndPadding=padding,cm.display.lineSpace.parentNode.style.paddingBottom=padding,cm.off("refresh",updateBottomMargin),cm.setSize(),cm.on("refresh",updateBottomMargin))}CodeMirror.defineOption("scrollPastEnd",!1,function(cm,val,old){old&&old!=CodeMirror.Init&&(cm.off("change",onChange),cm.off("refresh",updateBottomMargin),cm.display.lineSpace.parentNode.style.paddingBottom="",cm.state.scrollPastEndPadding=null),val&&(cm.on("change",onChange),cm.on("refresh",updateBottomMargin),updateBottomMargin(cm))})});
//# sourceMappingURL=scrollpastend.js.map
