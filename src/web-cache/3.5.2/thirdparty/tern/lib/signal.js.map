{"version":3,"sources":["thirdparty/tern/lib/signal.js"],"names":["root","mod","exports","module","define","amd","tern","signal","this","on","type","f","handlers","_handlers","Object","create","push","off","arr","i","length","splice","noHandlers","getHandlers","emitter","slice","a1","a2","a3","a4","call","signalReturnFirst","result","hasHandler","mixin","obj"],"mappings":"CAAA,SAAUA,KAAMC,KACQ,iBAAXC,SAAwC,iBAAVC,OAChCF,IAAIC,SACQ,mBAAVE,QAAwBA,OAAOC,IACjCD,OAAO,CAAC,WAAYH,KAC7BA,KAAKD,KAAKM,OAASN,KAAKM,KAAO,KAAKC,OAAS,IAL/C,CAMGC,KAAM,SAASN,SAEhB,SAASO,GAAGC,KAAMC,GAChB,IAAIC,SAAWJ,KAAKK,YAAcL,KAAKK,UAAYC,OAAOC,OAAO,QAChEH,SAASF,QAAUE,SAASF,MAAQ,KAAKM,KAAKL,GAGjD,SAASM,IAAIP,KAAMC,GACjB,IAAIO,IAAMV,KAAKK,WAAaL,KAAKK,UAAUH,MAC3C,GAAIQ,IAAK,IAAK,IAAIC,EAAI,EAAGA,EAAID,IAAIE,SAAUD,EACzC,GAAID,IAAIC,IAAMR,EAAG,CAAEO,IAAIG,OAAOF,EAAG,GAAI,OAGzC,IAAIG,WAAa,GACjB,SAASC,YAAYC,QAASd,MAC5B,IAAIQ,IAAMM,QAAQX,WAAaW,QAAQX,UAAUH,MACjD,OAAOQ,KAAOA,IAAIE,OAASF,IAAIO,QAAUH,WAG3C,SAASf,OAAOG,KAAMgB,GAAIC,GAAIC,GAAIC,IAEhC,IADA,IAAIX,IAAMK,YAAYf,KAAME,MACnBS,EAAI,EAAGA,EAAID,IAAIE,SAAUD,EAAGD,IAAIC,GAAGW,KAAKtB,KAAMkB,GAAIC,GAAIC,GAAIC,IAGrE,SAASE,kBAAkBrB,KAAMgB,GAAIC,GAAIC,GAAIC,IAE3C,IADA,IAAIX,IAAMK,YAAYf,KAAME,MACnBS,EAAI,EAAGA,EAAID,IAAIE,SAAUD,EAAG,CACnC,IAAIa,OAASd,IAAIC,GAAGW,KAAKtB,KAAMkB,GAAIC,GAAIC,GAAIC,IAC3C,GAAIG,OAAQ,OAAOA,QAIvB,SAASC,WAAWvB,MAClB,IAAIQ,IAAMV,KAAKK,WAAaL,KAAKK,UAAUH,MAC3C,OAAOQ,KAAOA,IAAIE,OAAS,GAAKF,IAGlChB,QAAQgC,MAAQ,SAASC,KAKvB,OAJAA,IAAI1B,GAAKA,GAAI0B,IAAIlB,IAAMA,IACvBkB,IAAI5B,OAASA,OACb4B,IAAIJ,kBAAoBA,kBACxBI,IAAIF,WAAaA,WACVE","sourcesContent":["(function(root, mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    return mod(exports);\n  if (typeof define == \"function\" && define.amd) // AMD\n    return define([\"exports\"], mod);\n  mod((root.tern || (root.tern = {})).signal = {}); // Plain browser env\n})(this, function(exports) {\n\n  function on(type, f) {\n    var handlers = this._handlers || (this._handlers = Object.create(null));\n    (handlers[type] || (handlers[type] = [])).push(f);\n  }\n\n  function off(type, f) {\n    var arr = this._handlers && this._handlers[type];\n    if (arr) for (var i = 0; i < arr.length; ++i)\n      if (arr[i] == f) { arr.splice(i, 1); break; }\n  }\n\n  var noHandlers = [];\n  function getHandlers(emitter, type) {\n    var arr = emitter._handlers && emitter._handlers[type];\n    return arr && arr.length ? arr.slice() : noHandlers;\n  }\n\n  function signal(type, a1, a2, a3, a4) {\n    var arr = getHandlers(this, type);\n    for (var i = 0; i < arr.length; ++i) arr[i].call(this, a1, a2, a3, a4);\n  }\n\n  function signalReturnFirst(type, a1, a2, a3, a4) {\n    var arr = getHandlers(this, type);\n    for (var i = 0; i < arr.length; ++i) {\n      var result = arr[i].call(this, a1, a2, a3, a4);\n      if (result) return result;\n    }\n  }\n\n  function hasHandler(type) {\n    var arr = this._handlers && this._handlers[type];\n    return arr && arr.length > 0 && arr;\n  }\n\n  exports.mixin = function(obj) {\n    obj.on = on; obj.off = off;\n    obj.signal = signal;\n    obj.signalReturnFirst = signalReturnFirst;\n    obj.hasHandler = hasHandler;\n    return obj;\n  };\n});\n"],"file":"signal.js"}