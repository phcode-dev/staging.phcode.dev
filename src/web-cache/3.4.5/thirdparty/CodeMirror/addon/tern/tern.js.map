{"version":3,"sources":["thirdparty/CodeMirror/addon/tern/tern.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","TernServer","options","self","this","plugins","doc_comment","docs","Object","create","useWorker","server","WorkerServer","tern","Server","getFile","name","c","async","defs","trackChange","doc","change","cachedArgHints","activeArgHints","jumpStack","getHint","cm","hint","prototype","addDoc","data","changed","addFile","docValue","on","delDoc","id","found","resolveDoc","off","delFile","hideDoc","closeArgHints","sendDoc","complete","showHint","showType","pos","showContextInfo","showDocs","updateArgHints","jumpToDef","jumpBack","rename","selectName","request","query","findDoc","getDoc","buildRequest","extraOptions","queryOptions","type","prop","error","responseFilter","destroy","worker","terminate","Pos","cls","bigDoc","ts","buf","n","cur","i","Doc","argHints","cmpPos","start","to","from","line","end","text","length","lineCount","setTimeout","files","window","console","types","urls","showError","completions","after","getRange","ch","completion","className","typeToIcon","guess","push","displayText","displayName","obj","list","tooltip","remove","node","content","completionTip","makeTooltip","parentNode","getBoundingClientRect","right","pageXOffset","top","pageYOffset","suffix","test","queryName","typeTip","tip","elt","appendChild","document","createTextNode","url","child","href","target","tempTooltip","somethingSelected","state","getTokenAt","getCursor","inner","innerMode","getMode","mode","lex","lexical","info","argPos","tabSize","getOption","e","Math","max","str","getLine","extra","tab","indexOf","column","charAt","cache","showArgHints","preferFunction","parseFnType","exprName","tp","args","arg","rettype","place","cursorCoords","bottom","clear","onEditorActivity","skipMatching","upto","depth","next","slice","match","varName","req","variable","file","localDoc","findContext","moveTo","open","atInterestingExpression","dialog","pop","curDoc","setSelection","switchToDoc","before","context","contextOffset","split","startLine","cursor","getSearchCursor","nearest","nearestDist","Infinity","findNext","dist","abs","tok","token","string","newName","fullDocs","applyChanges","changes","ranges","curPos","refs","ref","anchor","head","setSelections","nextChangeOrig","perFile","known","chs","sort","a","b","origin","replaceRange","offsetLines","allowFragments","lineCharPositions","startPos","getFragmentAround","minIndent","minLine","endLine","p","min","fn","search","indent","countColumn","lastLine","tagname","createElement","arguments","f","openDialog","fragment","createDocumentFragment","input","prompt","ternTooltip","where","maybeClear","old","mouseOnTip","fadeOut","clearActivity","related","relatedTarget","toElement","contains","hintDelay","x","y","container","style","left","hintOptions","body","winW","innerWidth","winH","innerHeight","box","hints","querySelector","overlapY","overlapX","offsetWidth","width","height","curTop","removeChild","opacity","msg","String","val","getValue","fileFilter","Worker","workerScript","postMessage","scripts","workerDeps","msgId","pending","send","onmessage","err","log","message","onerror"],"mappings":"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","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Glue code between CodeMirror and Tern.\n//\n// Create a CodeMirror.TernServer to wrap an actual Tern server,\n// register open documents (CodeMirror.Doc instances) with it, and\n// call its methods to activate the assisting functions that Tern\n// provides.\n//\n// Options supported (all optional):\n// * defs: An array of JSON definition data structures.\n// * plugins: An object mapping plugin names to configuration\n//   options.\n// * getFile: A function(name, c) that can be used to access files in\n//   the project that haven't been loaded yet. Simply do c(null) to\n//   indicate that a file is not available.\n// * fileFilter: A function(value, docName, doc) that will be applied\n//   to documents before passing them on to Tern.\n// * switchToDoc: A function(name, doc) that should, when providing a\n//   multi-file view, switch the view or focus to the named file.\n// * showError: A function(editor, message) that can be used to\n//   override the way errors are displayed.\n// * completionTip: Customize the content in tooltips for completions.\n//   Is passed a single argument—the completion's data as returned by\n//   Tern—and may return a string, DOM node, or null to indicate that\n//   no tip should be shown. By default the docstring is shown.\n// * typeTip: Like completionTip, but for the tooltips shown for type\n//   queries.\n// * responseFilter: A function(doc, query, request, error, data) that\n//   will be applied to the Tern responses before treating them\n//\n//\n// It is possible to run the Tern server in a web worker by specifying\n// these additional options:\n// * useWorker: Set to true to enable web worker mode. You'll probably\n//   want to feature detect the actual value you use here, for example\n//   !!window.Worker.\n// * workerScript: The main script of the worker. Point this to\n//   wherever you are hosting worker.js from this directory.\n// * workerDeps: An array of paths pointing (relative to workerScript)\n//   to the Acorn and Tern libraries and any Tern plugins you want to\n//   load. Or, if you minified those into a single script and included\n//   them in the workerScript, simply leave this undefined.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  // declare global: tern\n\n  CodeMirror.TernServer = function(options) {\n    var self = this;\n    this.options = options || {};\n    var plugins = this.options.plugins || (this.options.plugins = {});\n    if (!plugins.doc_comment) plugins.doc_comment = true;\n    this.docs = Object.create(null);\n    if (this.options.useWorker) {\n      this.server = new WorkerServer(this);\n    } else {\n      this.server = new tern.Server({\n        getFile: function(name, c) { return getFile(self, name, c); },\n        async: true,\n        defs: this.options.defs || [],\n        plugins: plugins\n      });\n    }\n    this.trackChange = function(doc, change) { trackChange(self, doc, change); };\n\n    this.cachedArgHints = null;\n    this.activeArgHints = null;\n    this.jumpStack = [];\n\n    this.getHint = function(cm, c) { return hint(self, cm, c); };\n    this.getHint.async = true;\n  };\n\n  CodeMirror.TernServer.prototype = {\n    addDoc: function(name, doc) {\n      var data = {doc: doc, name: name, changed: null};\n      this.server.addFile(name, docValue(this, data));\n      CodeMirror.on(doc, \"change\", this.trackChange);\n      return this.docs[name] = data;\n    },\n\n    delDoc: function(id) {\n      var found = resolveDoc(this, id);\n      if (!found) return;\n      CodeMirror.off(found.doc, \"change\", this.trackChange);\n      delete this.docs[found.name];\n      this.server.delFile(found.name);\n    },\n\n    hideDoc: function(id) {\n      closeArgHints(this);\n      var found = resolveDoc(this, id);\n      if (found && found.changed) sendDoc(this, found);\n    },\n\n    complete: function(cm) {\n      cm.showHint({hint: this.getHint});\n    },\n\n    showType: function(cm, pos, c) { showContextInfo(this, cm, pos, \"type\", c); },\n\n    showDocs: function(cm, pos, c) { showContextInfo(this, cm, pos, \"documentation\", c); },\n\n    updateArgHints: function(cm) { updateArgHints(this, cm); },\n\n    jumpToDef: function(cm) { jumpToDef(this, cm); },\n\n    jumpBack: function(cm) { jumpBack(this, cm); },\n\n    rename: function(cm) { rename(this, cm); },\n\n    selectName: function(cm) { selectName(this, cm); },\n\n    request: function (cm, query, c, pos) {\n      var self = this;\n      var doc = findDoc(this, cm.getDoc());\n      var request = buildRequest(this, doc, query, pos);\n      var extraOptions = request.query && this.options.queryOptions && this.options.queryOptions[request.query.type]\n      if (extraOptions) for (var prop in extraOptions) request.query[prop] = extraOptions[prop];\n\n      this.server.request(request, function (error, data) {\n        if (!error && self.options.responseFilter)\n          data = self.options.responseFilter(doc, query, request, error, data);\n        c(error, data);\n      });\n    },\n\n    destroy: function () {\n      closeArgHints(this)\n      if (this.worker) {\n        this.worker.terminate();\n        this.worker = null;\n      }\n    }\n  };\n\n  var Pos = CodeMirror.Pos;\n  var cls = \"CodeMirror-Tern-\";\n  var bigDoc = 250;\n\n  function getFile(ts, name, c) {\n    var buf = ts.docs[name];\n    if (buf)\n      c(docValue(ts, buf));\n    else if (ts.options.getFile)\n      ts.options.getFile(name, c);\n    else\n      c(null);\n  }\n\n  function findDoc(ts, doc, name) {\n    for (var n in ts.docs) {\n      var cur = ts.docs[n];\n      if (cur.doc == doc) return cur;\n    }\n    if (!name) for (var i = 0;; ++i) {\n      n = \"[doc\" + (i || \"\") + \"]\";\n      if (!ts.docs[n]) { name = n; break; }\n    }\n    return ts.addDoc(name, doc);\n  }\n\n  function resolveDoc(ts, id) {\n    if (typeof id == \"string\") return ts.docs[id];\n    if (id instanceof CodeMirror) id = id.getDoc();\n    if (id instanceof CodeMirror.Doc) return findDoc(ts, id);\n  }\n\n  function trackChange(ts, doc, change) {\n    var data = findDoc(ts, doc);\n\n    var argHints = ts.cachedArgHints;\n    if (argHints && argHints.doc == doc && cmpPos(argHints.start, change.to) >= 0)\n      ts.cachedArgHints = null;\n\n    var changed = data.changed;\n    if (changed == null)\n      data.changed = changed = {from: change.from.line, to: change.from.line};\n    var end = change.from.line + (change.text.length - 1);\n    if (change.from.line < changed.to) changed.to = changed.to - (change.to.line - end);\n    if (end >= changed.to) changed.to = end + 1;\n    if (changed.from > change.from.line) changed.from = change.from.line;\n\n    if (doc.lineCount() > bigDoc && change.to - changed.from > 100) setTimeout(function() {\n      if (data.changed && data.changed.to - data.changed.from > 100) sendDoc(ts, data);\n    }, 200);\n  }\n\n  function sendDoc(ts, doc) {\n    ts.server.request({files: [{type: \"full\", name: doc.name, text: docValue(ts, doc)}]}, function(error) {\n      if (error) window.console.error(error);\n      else doc.changed = null;\n    });\n  }\n\n  // Completion\n\n  function hint(ts, cm, c) {\n    ts.request(cm, {type: \"completions\", types: true, docs: true, urls: true}, function(error, data) {\n      if (error) return showError(ts, cm, error);\n      var completions = [], after = \"\";\n      var from = data.start, to = data.end;\n      if (cm.getRange(Pos(from.line, from.ch - 2), from) == \"[\\\"\" &&\n          cm.getRange(to, Pos(to.line, to.ch + 2)) != \"\\\"]\")\n        after = \"\\\"]\";\n\n      for (var i = 0; i < data.completions.length; ++i) {\n        var completion = data.completions[i], className = typeToIcon(completion.type);\n        if (data.guess) className += \" \" + cls + \"guess\";\n        completions.push({text: completion.name + after,\n                          displayText: completion.displayName || completion.name,\n                          className: className,\n                          data: completion});\n      }\n\n      var obj = {from: from, to: to, list: completions};\n      var tooltip = null;\n      CodeMirror.on(obj, \"close\", function() { remove(tooltip); });\n      CodeMirror.on(obj, \"update\", function() { remove(tooltip); });\n      CodeMirror.on(obj, \"select\", function(cur, node) {\n        remove(tooltip);\n        var content = ts.options.completionTip ? ts.options.completionTip(cur.data) : cur.data.doc;\n        if (content) {\n          tooltip = makeTooltip(node.parentNode.getBoundingClientRect().right + window.pageXOffset,\n                                node.getBoundingClientRect().top + window.pageYOffset, content, cm, cls + \"hint-doc\");\n        }\n      });\n      c(obj);\n    });\n  }\n\n  function typeToIcon(type) {\n    var suffix;\n    if (type == \"?\") suffix = \"unknown\";\n    else if (type == \"number\" || type == \"string\" || type == \"bool\") suffix = type;\n    else if (/^fn\\(/.test(type)) suffix = \"fn\";\n    else if (/^\\[/.test(type)) suffix = \"array\";\n    else suffix = \"object\";\n    return cls + \"completion \" + cls + \"completion-\" + suffix;\n  }\n\n  // Type queries\n\n  function showContextInfo(ts, cm, pos, queryName, c) {\n    ts.request(cm, queryName, function(error, data) {\n      if (error) return showError(ts, cm, error);\n      if (ts.options.typeTip) {\n        var tip = ts.options.typeTip(data);\n      } else {\n        var tip = elt(\"span\", null, elt(\"strong\", null, data.type || \"not found\"));\n        if (data.doc)\n          tip.appendChild(document.createTextNode(\" — \" + data.doc));\n        if (data.url) {\n          tip.appendChild(document.createTextNode(\" \"));\n          var child = tip.appendChild(elt(\"a\", null, \"[docs]\"));\n          child.href = data.url;\n          child.target = \"_blank\";\n        }\n      }\n      tempTooltip(cm, tip, ts);\n      if (c) c();\n    }, pos);\n  }\n\n  // Maintaining argument hints\n\n  function updateArgHints(ts, cm) {\n    closeArgHints(ts);\n\n    if (cm.somethingSelected()) return;\n    var state = cm.getTokenAt(cm.getCursor()).state;\n    var inner = CodeMirror.innerMode(cm.getMode(), state);\n    if (inner.mode.name != \"javascript\") return;\n    var lex = inner.state.lexical;\n    if (lex.info != \"call\") return;\n\n    var ch, argPos = lex.pos || 0, tabSize = cm.getOption(\"tabSize\");\n    for (var line = cm.getCursor().line, e = Math.max(0, line - 9), found = false; line >= e; --line) {\n      var str = cm.getLine(line), extra = 0;\n      for (var pos = 0;;) {\n        var tab = str.indexOf(\"\\t\", pos);\n        if (tab == -1) break;\n        extra += tabSize - (tab + extra) % tabSize - 1;\n        pos = tab + 1;\n      }\n      ch = lex.column - extra;\n      if (str.charAt(ch) == \"(\") {found = true; break;}\n    }\n    if (!found) return;\n\n    var start = Pos(line, ch);\n    var cache = ts.cachedArgHints;\n    if (cache && cache.doc == cm.getDoc() && cmpPos(start, cache.start) == 0)\n      return showArgHints(ts, cm, argPos);\n\n    ts.request(cm, {type: \"type\", preferFunction: true, end: start}, function(error, data) {\n      if (error || !data.type || !(/^fn\\(/).test(data.type)) return;\n      ts.cachedArgHints = {\n        start: start,\n        type: parseFnType(data.type),\n        name: data.exprName || data.name || \"fn\",\n        guess: data.guess,\n        doc: cm.getDoc()\n      };\n      showArgHints(ts, cm, argPos);\n    });\n  }\n\n  function showArgHints(ts, cm, pos) {\n    closeArgHints(ts);\n\n    var cache = ts.cachedArgHints, tp = cache.type;\n    var tip = elt(\"span\", cache.guess ? cls + \"fhint-guess\" : null,\n                  elt(\"span\", cls + \"fname\", cache.name), \"(\");\n    for (var i = 0; i < tp.args.length; ++i) {\n      if (i) tip.appendChild(document.createTextNode(\", \"));\n      var arg = tp.args[i];\n      tip.appendChild(elt(\"span\", cls + \"farg\" + (i == pos ? \" \" + cls + \"farg-current\" : \"\"), arg.name || \"?\"));\n      if (arg.type != \"?\") {\n        tip.appendChild(document.createTextNode(\":\\u00a0\"));\n        tip.appendChild(elt(\"span\", cls + \"type\", arg.type));\n      }\n    }\n    tip.appendChild(document.createTextNode(tp.rettype ? \") ->\\u00a0\" : \")\"));\n    if (tp.rettype) tip.appendChild(elt(\"span\", cls + \"type\", tp.rettype));\n    var place = cm.cursorCoords(null, \"page\");\n    var tooltip = ts.activeArgHints = makeTooltip(place.right + 1, place.bottom, tip, cm)\n    setTimeout(function() {\n      tooltip.clear = onEditorActivity(cm, function() {\n        if (ts.activeArgHints == tooltip) closeArgHints(ts) })\n    }, 20)\n  }\n\n  function parseFnType(text) {\n    var args = [], pos = 3;\n\n    function skipMatching(upto) {\n      var depth = 0, start = pos;\n      for (;;) {\n        var next = text.charAt(pos);\n        if (upto.test(next) && !depth) return text.slice(start, pos);\n        if (/[{\\[\\(]/.test(next)) ++depth;\n        else if (/[}\\]\\)]/.test(next)) --depth;\n        ++pos;\n      }\n    }\n\n    // Parse arguments\n    if (text.charAt(pos) != \")\") for (;;) {\n      var name = text.slice(pos).match(/^([^, \\(\\[\\{]+): /);\n      if (name) {\n        pos += name[0].length;\n        name = name[1];\n      }\n      args.push({name: name, type: skipMatching(/[\\),]/)});\n      if (text.charAt(pos) == \")\") break;\n      pos += 2;\n    }\n\n    var rettype = text.slice(pos).match(/^\\) -> (.*)$/);\n\n    return {args: args, rettype: rettype && rettype[1]};\n  }\n\n  // Moving to the definition of something\n\n  function jumpToDef(ts, cm) {\n    function inner(varName) {\n      var req = {type: \"definition\", variable: varName || null};\n      var doc = findDoc(ts, cm.getDoc());\n      ts.server.request(buildRequest(ts, doc, req), function(error, data) {\n        if (error) return showError(ts, cm, error);\n        if (!data.file && data.url) { window.open(data.url); return; }\n\n        if (data.file) {\n          var localDoc = ts.docs[data.file], found;\n          if (localDoc && (found = findContext(localDoc.doc, data))) {\n            ts.jumpStack.push({file: doc.name,\n                               start: cm.getCursor(\"from\"),\n                               end: cm.getCursor(\"to\")});\n            moveTo(ts, doc, localDoc, found.start, found.end);\n            return;\n          }\n        }\n        showError(ts, cm, \"Could not find a definition.\");\n      });\n    }\n\n    if (!atInterestingExpression(cm))\n      dialog(cm, \"Jump to variable\", function(name) { if (name) inner(name); });\n    else\n      inner();\n  }\n\n  function jumpBack(ts, cm) {\n    var pos = ts.jumpStack.pop(), doc = pos && ts.docs[pos.file];\n    if (!doc) return;\n    moveTo(ts, findDoc(ts, cm.getDoc()), doc, pos.start, pos.end);\n  }\n\n  function moveTo(ts, curDoc, doc, start, end) {\n    doc.doc.setSelection(start, end);\n    if (curDoc != doc && ts.options.switchToDoc) {\n      closeArgHints(ts);\n      ts.options.switchToDoc(doc.name, doc.doc);\n    }\n  }\n\n  // The {line,ch} representation of positions makes this rather awkward.\n  function findContext(doc, data) {\n    var before = data.context.slice(0, data.contextOffset).split(\"\\n\");\n    var startLine = data.start.line - (before.length - 1);\n    var start = Pos(startLine, (before.length == 1 ? data.start.ch : doc.getLine(startLine).length) - before[0].length);\n\n    var text = doc.getLine(startLine).slice(start.ch);\n    for (var cur = startLine + 1; cur < doc.lineCount() && text.length < data.context.length; ++cur)\n      text += \"\\n\" + doc.getLine(cur);\n    if (text.slice(0, data.context.length) == data.context) return data;\n\n    var cursor = doc.getSearchCursor(data.context, 0, false);\n    var nearest, nearestDist = Infinity;\n    while (cursor.findNext()) {\n      var from = cursor.from(), dist = Math.abs(from.line - start.line) * 10000;\n      if (!dist) dist = Math.abs(from.ch - start.ch);\n      if (dist < nearestDist) { nearest = from; nearestDist = dist; }\n    }\n    if (!nearest) return null;\n\n    if (before.length == 1)\n      nearest.ch += before[0].length;\n    else\n      nearest = Pos(nearest.line + (before.length - 1), before[before.length - 1].length);\n    if (data.start.line == data.end.line)\n      var end = Pos(nearest.line, nearest.ch + (data.end.ch - data.start.ch));\n    else\n      var end = Pos(nearest.line + (data.end.line - data.start.line), data.end.ch);\n    return {start: nearest, end: end};\n  }\n\n  function atInterestingExpression(cm) {\n    var pos = cm.getCursor(\"end\"), tok = cm.getTokenAt(pos);\n    if (tok.start < pos.ch && tok.type == \"comment\") return false;\n    return /[\\w)\\]]/.test(cm.getLine(pos.line).slice(Math.max(pos.ch - 1, 0), pos.ch + 1));\n  }\n\n  // Variable renaming\n\n  function rename(ts, cm) {\n    var token = cm.getTokenAt(cm.getCursor());\n    if (!/\\w/.test(token.string)) return showError(ts, cm, \"Not at a variable\");\n    dialog(cm, \"New name for \" + token.string, function(newName) {\n      ts.request(cm, {type: \"rename\", newName: newName, fullDocs: true}, function(error, data) {\n        if (error) return showError(ts, cm, error);\n        applyChanges(ts, data.changes);\n      });\n    });\n  }\n\n  function selectName(ts, cm) {\n    var name = findDoc(ts, cm.doc).name;\n    ts.request(cm, {type: \"refs\"}, function(error, data) {\n      if (error) return showError(ts, cm, error);\n      var ranges = [], cur = 0;\n      var curPos = cm.getCursor();\n      for (var i = 0; i < data.refs.length; i++) {\n        var ref = data.refs[i];\n        if (ref.file == name) {\n          ranges.push({anchor: ref.start, head: ref.end});\n          if (cmpPos(curPos, ref.start) >= 0 && cmpPos(curPos, ref.end) <= 0)\n            cur = ranges.length - 1;\n        }\n      }\n      cm.setSelections(ranges, cur);\n    });\n  }\n\n  var nextChangeOrig = 0;\n  function applyChanges(ts, changes) {\n    var perFile = Object.create(null);\n    for (var i = 0; i < changes.length; ++i) {\n      var ch = changes[i];\n      (perFile[ch.file] || (perFile[ch.file] = [])).push(ch);\n    }\n    for (var file in perFile) {\n      var known = ts.docs[file], chs = perFile[file];;\n      if (!known) continue;\n      chs.sort(function(a, b) { return cmpPos(b.start, a.start); });\n      var origin = \"*rename\" + (++nextChangeOrig);\n      for (var i = 0; i < chs.length; ++i) {\n        var ch = chs[i];\n        known.doc.replaceRange(ch.text, ch.start, ch.end, origin);\n      }\n    }\n  }\n\n  // Generic request-building helper\n\n  function buildRequest(ts, doc, query, pos) {\n    var files = [], offsetLines = 0, allowFragments = !query.fullDocs;\n    if (!allowFragments) delete query.fullDocs;\n    if (typeof query == \"string\") query = {type: query};\n    query.lineCharPositions = true;\n    if (query.end == null) {\n      query.end = pos || doc.doc.getCursor(\"end\");\n      if (doc.doc.somethingSelected())\n        query.start = doc.doc.getCursor(\"start\");\n    }\n    var startPos = query.start || query.end;\n\n    if (doc.changed) {\n      if (doc.doc.lineCount() > bigDoc && allowFragments !== false &&\n          doc.changed.to - doc.changed.from < 100 &&\n          doc.changed.from <= startPos.line && doc.changed.to > query.end.line) {\n        files.push(getFragmentAround(doc, startPos, query.end));\n        query.file = \"#0\";\n        var offsetLines = files[0].offsetLines;\n        if (query.start != null) query.start = Pos(query.start.line - -offsetLines, query.start.ch);\n        query.end = Pos(query.end.line - offsetLines, query.end.ch);\n      } else {\n        files.push({type: \"full\",\n                    name: doc.name,\n                    text: docValue(ts, doc)});\n        query.file = doc.name;\n        doc.changed = null;\n      }\n    } else {\n      query.file = doc.name;\n    }\n    for (var name in ts.docs) {\n      var cur = ts.docs[name];\n      if (cur.changed && cur != doc) {\n        files.push({type: \"full\", name: cur.name, text: docValue(ts, cur)});\n        cur.changed = null;\n      }\n    }\n\n    return {query: query, files: files};\n  }\n\n  function getFragmentAround(data, start, end) {\n    var doc = data.doc;\n    var minIndent = null, minLine = null, endLine, tabSize = 4;\n    for (var p = start.line - 1, min = Math.max(0, p - 50); p >= min; --p) {\n      var line = doc.getLine(p), fn = line.search(/\\bfunction\\b/);\n      if (fn < 0) continue;\n      var indent = CodeMirror.countColumn(line, null, tabSize);\n      if (minIndent != null && minIndent <= indent) continue;\n      minIndent = indent;\n      minLine = p;\n    }\n    if (minLine == null) minLine = min;\n    var max = Math.min(doc.lastLine(), end.line + 20);\n    if (minIndent == null || minIndent == CodeMirror.countColumn(doc.getLine(start.line), null, tabSize))\n      endLine = max;\n    else for (endLine = end.line + 1; endLine < max; ++endLine) {\n      var indent = CodeMirror.countColumn(doc.getLine(endLine), null, tabSize);\n      if (indent <= minIndent) break;\n    }\n    var from = Pos(minLine, 0);\n\n    return {type: \"part\",\n            name: data.name,\n            offsetLines: from.line,\n            text: doc.getRange(from, Pos(endLine, end.line == endLine ? null : 0))};\n  }\n\n  // Generic utilities\n\n  var cmpPos = CodeMirror.cmpPos;\n\n  function elt(tagname, cls /*, ... elts*/) {\n    var e = document.createElement(tagname);\n    if (cls) e.className = cls;\n    for (var i = 2; i < arguments.length; ++i) {\n      var elt = arguments[i];\n      if (typeof elt == \"string\") elt = document.createTextNode(elt);\n      e.appendChild(elt);\n    }\n    return e;\n  }\n\n  function dialog(cm, text, f) {\n    if (cm.openDialog) {\n      var fragment = document.createDocumentFragment();\n      fragment.appendChild(document.createTextNode(text + \": \"));\n      var input = document.createElement(\"input\");\n      input.type = \"text\";\n      fragment.appendChild(input);\n      cm.openDialog(fragment, f);\n    } else {\n      f(prompt(text, \"\"));\n    }\n  }\n\n  // Tooltips\n\n  function tempTooltip(cm, content, ts) {\n    if (cm.state.ternTooltip) remove(cm.state.ternTooltip);\n    var where = cm.cursorCoords();\n    var tip = cm.state.ternTooltip = makeTooltip(where.right + 1, where.bottom, content, cm);\n    function maybeClear() {\n      old = true;\n      if (!mouseOnTip) clear();\n    }\n    function clear() {\n      cm.state.ternTooltip = null;\n      if (tip.parentNode) fadeOut(tip)\n      clearActivity()\n    }\n    var mouseOnTip = false, old = false;\n    CodeMirror.on(tip, \"mousemove\", function() { mouseOnTip = true; });\n    CodeMirror.on(tip, \"mouseout\", function(e) {\n      var related = e.relatedTarget || e.toElement\n      if (!related || !CodeMirror.contains(tip, related)) {\n        if (old) clear();\n        else mouseOnTip = false;\n      }\n    });\n    setTimeout(maybeClear, ts.options.hintDelay ? ts.options.hintDelay : 1700);\n    var clearActivity = onEditorActivity(cm, clear)\n  }\n\n  function onEditorActivity(cm, f) {\n    cm.on(\"cursorActivity\", f)\n    cm.on(\"blur\", f)\n    cm.on(\"scroll\", f)\n    cm.on(\"setDoc\", f)\n    return function() {\n      cm.off(\"cursorActivity\", f)\n      cm.off(\"blur\", f)\n      cm.off(\"scroll\", f)\n      cm.off(\"setDoc\", f)\n    }\n  }\n\n  function makeTooltip(x, y, content, cm, className) {\n    var node = elt(\"div\", cls + \"tooltip\" + \" \" + (className || \"\"), content);\n    node.style.left = x + \"px\";\n    node.style.top = y + \"px\";\n    var container = ((cm.options || {}).hintOptions || {}).container || document.body;\n    container.appendChild(node);\n\n    var pos = cm.cursorCoords();\n    var winW = window.innerWidth;\n    var winH = window.innerHeight;\n    var box = node.getBoundingClientRect();\n    var hints = document.querySelector(\".CodeMirror-hints\");\n    var overlapY = box.bottom - winH;\n    var overlapX = box.right - winW;\n\n    if (hints && overlapX > 0) {\n      node.style.left = 0;\n      var box = node.getBoundingClientRect();\n      node.style.left = (x = x - hints.offsetWidth - box.width) + \"px\";\n      overlapX = box.right - winW;\n    }\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        node.style.top = (pos.top - height) + \"px\";\n      } else if (height > winH) {\n        node.style.height = (winH - 5) + \"px\";\n        node.style.top = (pos.bottom - box.top) + \"px\";\n      }\n    }\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        node.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      node.style.left = (x - overlapX) + \"px\";\n    }\n\n    return node;\n  }\n\n  function remove(node) {\n    var p = node && node.parentNode;\n    if (p) p.removeChild(node);\n  }\n\n  function fadeOut(tooltip) {\n    tooltip.style.opacity = \"0\";\n    setTimeout(function() { remove(tooltip); }, 1100);\n  }\n\n  function showError(ts, cm, msg) {\n    if (ts.options.showError)\n      ts.options.showError(cm, msg);\n    else\n      tempTooltip(cm, String(msg), ts);\n  }\n\n  function closeArgHints(ts) {\n    if (ts.activeArgHints) {\n      if (ts.activeArgHints.clear) ts.activeArgHints.clear()\n      remove(ts.activeArgHints)\n      ts.activeArgHints = null\n    }\n  }\n\n  function docValue(ts, doc) {\n    var val = doc.doc.getValue();\n    if (ts.options.fileFilter) val = ts.options.fileFilter(val, doc.name, doc.doc);\n    return val;\n  }\n\n  // Worker wrapper\n\n  function WorkerServer(ts) {\n    var worker = ts.worker = new Worker(ts.options.workerScript);\n    worker.postMessage({type: \"init\",\n                        defs: ts.options.defs,\n                        plugins: ts.options.plugins,\n                        scripts: ts.options.workerDeps});\n    var msgId = 0, pending = {};\n\n    function send(data, c) {\n      if (c) {\n        data.id = ++msgId;\n        pending[msgId] = c;\n      }\n      worker.postMessage(data);\n    }\n    worker.onmessage = function(e) {\n      var data = e.data;\n      if (data.type == \"getFile\") {\n        getFile(ts, data.name, function(err, text) {\n          send({type: \"getFile\", err: String(err), text: text, id: data.id});\n        });\n      } else if (data.type == \"debug\") {\n        window.console.log(data.message);\n      } else if (data.id && pending[data.id]) {\n        pending[data.id](data.err, data.body);\n        delete pending[data.id];\n      }\n    };\n    worker.onerror = function(e) {\n      for (var id in pending) pending[id](e);\n      pending = {};\n    };\n\n    this.addFile = function(name, text) { send({type: \"add\", name: name, text: text}); };\n    this.delFile = function(name) { send({type: \"del\", name: name}); };\n    this.request = function(body, c) { send({type: \"req\", body: body}, c); };\n  }\n});\n"],"file":"tern.js"}