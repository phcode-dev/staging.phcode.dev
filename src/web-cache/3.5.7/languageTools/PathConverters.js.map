{"version":3,"sources":["languageTools/PathConverters.js"],"names":["define","require","exports","module","PathUtils","FileUtils","uriToPath","uri","url","parseUrl","protocol","undefined","pathname","filePath","decodeURIComponent","brackets","platform","includes","substr","pathToUri","newPath","convertWinToPosixPath","encodeURI","replace","encodeURIComponent","convertToWorkspaceFolders","paths","workspaceFolders","map","folderPath","name","getBasename","convertPosixToWinPath","path"],"mappings":"AAwBAA,OAAO,SAAUC,QAASC,QAASC,QAG/B,IAAIC,UAAYH,QAAQ,oCACpBI,UAAYJ,QAAQ,kBAExB,SAASK,UAAUC,KACf,IAAIC,IAAMJ,UAAUK,SAASF,KAC7B,GAAqB,UAAjBC,IAAIE,eAAyCC,IAAjBH,IAAII,SAChC,OAAOL,IAGX,IAAIM,SAAWC,mBAAmBN,IAAII,UACtC,MAA0B,QAAtBG,SAASC,UACLH,UAAYA,SAASI,SAAS,OAAyB,MAAhBJ,SAAS,KAChDA,SAAWA,SAASK,OAAO,IAExBL,UAEJA,SAGX,SAASM,UAAUN,UACf,IAAIO,QAAUC,sBAAsBR,UAIpC,MAHmB,MAAfO,QAAQ,KACRA,YAAcA,WAEXE,oBAAoBF,WAAWG,QAAQ,QAASC,oBAG3D,SAASC,0BAA0BC,OAC/B,IAAIC,iBAUJ,OAVuBD,MAAME,IAAI,SAAUC,YACvC,IAAItB,IACAuB,KAEJ,MAAO,CACHvB,IAJMY,UAAUU,YAKhBC,KAJOzB,UAAU0B,YAAYF,eAWzC,SAASG,sBAAsBC,MAC3B,OAAOA,KAAKV,QAAQ,MAAO,MAG/B,SAASF,sBAAsBY,MAC3B,OAAOA,KAAKV,QAAQ,MAAO,KAG/BrB,QAAQI,UAAYA,UACpBJ,QAAQiB,UAAYA,UACpBjB,QAAQ8B,sBAAwBA,sBAChC9B,QAAQ8B,sBAAwBA,sBAChC9B,QAAQuB,0BAA4BA","sourcesContent":["/*\n * Copyright (c) 2019 - present Adobe. All rights reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n *\n */\n\n/* eslint-disable indent */\ndefine(function (require, exports, module) {\n\n\n    var PathUtils = require(\"thirdparty/path-utils/path-utils\"),\n        FileUtils = require(\"file/FileUtils\");\n\n    function uriToPath(uri) {\n        var url = PathUtils.parseUrl(uri);\n        if (url.protocol !== 'file:' || url.pathname === undefined) {\n            return uri;\n        }\n\n        let filePath = decodeURIComponent(url.pathname);\n        if (brackets.platform === 'win') {\n            if (filePath && filePath.includes(\":/\") && filePath[0] === '/') {\n                filePath = filePath.substr(1);\n            }\n            return filePath;\n        }\n        return filePath;\n    }\n\n    function pathToUri(filePath) {\n        var newPath = convertWinToPosixPath(filePath);\n        if (newPath[0] !== '/') {\n            newPath = `/${newPath}`;\n        }\n        return encodeURI(`file://${newPath}`).replace(/[?#]/g, encodeURIComponent);\n    }\n\n    function convertToWorkspaceFolders(paths) {\n        var workspaceFolders = paths.map(function (folderPath) {\n            var uri = pathToUri(folderPath),\n                name = FileUtils.getBasename(folderPath);\n\n            return {\n                uri: uri,\n                name: name\n            };\n        });\n\n        return workspaceFolders;\n    }\n\n    function convertPosixToWinPath(path) {\n        return path.replace(/\\//g, '\\\\');\n    }\n\n    function convertWinToPosixPath(path) {\n        return path.replace(/\\\\/g, '/');\n    }\n\n    exports.uriToPath = uriToPath;\n    exports.pathToUri = pathToUri;\n    exports.convertPosixToWinPath = convertPosixToWinPath;\n    exports.convertPosixToWinPath = convertPosixToWinPath;\n    exports.convertToWorkspaceFolders = convertToWorkspaceFolders;\n});\n"],"file":"PathConverters.js"}