{"version":3,"sources":["thirdparty/CodeMirror/mode/q/q.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineMode","config","indentUnit","curPunc","keywords","buildRE","E","w","RegExp","join","tokenBase","stream","state","sol","c","next","tokenize","tokenLineComment","eol","test","peek","skipToEnd","current","tokenCommentToEOF","tokenString","eatWhile","t","backUp","match","tokenBlockComment","f","escaped","end","pushContext","type","col","context","prev","indent","popContext","startState","token","align","indentation","style","column","textAfter","firstChar","charAt","closing","defineMIME"],"mappings":"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","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"q\",function(config){\n  var indentUnit=config.indentUnit,\n      curPunc,\n      keywords=buildRE([\"abs\",\"acos\",\"aj\",\"aj0\",\"all\",\"and\",\"any\",\"asc\",\"asin\",\"asof\",\"atan\",\"attr\",\"avg\",\"avgs\",\"bin\",\"by\",\"ceiling\",\"cols\",\"cor\",\"cos\",\"count\",\"cov\",\"cross\",\"csv\",\"cut\",\"delete\",\"deltas\",\"desc\",\"dev\",\"differ\",\"distinct\",\"div\",\"do\",\"each\",\"ej\",\"enlist\",\"eval\",\"except\",\"exec\",\"exit\",\"exp\",\"fby\",\"fills\",\"first\",\"fkeys\",\"flip\",\"floor\",\"from\",\"get\",\"getenv\",\"group\",\"gtime\",\"hclose\",\"hcount\",\"hdel\",\"hopen\",\"hsym\",\"iasc\",\"idesc\",\"if\",\"ij\",\"in\",\"insert\",\"inter\",\"inv\",\"key\",\"keys\",\"last\",\"like\",\"list\",\"lj\",\"load\",\"log\",\"lower\",\"lsq\",\"ltime\",\"ltrim\",\"mavg\",\"max\",\"maxs\",\"mcount\",\"md5\",\"mdev\",\"med\",\"meta\",\"min\",\"mins\",\"mmax\",\"mmin\",\"mmu\",\"mod\",\"msum\",\"neg\",\"next\",\"not\",\"null\",\"or\",\"over\",\"parse\",\"peach\",\"pj\",\"plist\",\"prd\",\"prds\",\"prev\",\"prior\",\"rand\",\"rank\",\"ratios\",\"raze\",\"read0\",\"read1\",\"reciprocal\",\"reverse\",\"rload\",\"rotate\",\"rsave\",\"rtrim\",\"save\",\"scan\",\"select\",\"set\",\"setenv\",\"show\",\"signum\",\"sin\",\"sqrt\",\"ss\",\"ssr\",\"string\",\"sublist\",\"sum\",\"sums\",\"sv\",\"system\",\"tables\",\"tan\",\"til\",\"trim\",\"txf\",\"type\",\"uj\",\"ungroup\",\"union\",\"update\",\"upper\",\"upsert\",\"value\",\"var\",\"view\",\"views\",\"vs\",\"wavg\",\"where\",\"where\",\"while\",\"within\",\"wj\",\"wj1\",\"wsum\",\"xasc\",\"xbar\",\"xcol\",\"xcols\",\"xdesc\",\"xexp\",\"xgroup\",\"xkey\",\"xlog\",\"xprev\",\"xrank\"]),\n      E=/[|/&^!+:\\\\\\-*%$=~#;@><,?_\\'\\\"\\[\\(\\]\\)\\s{}]/;\n  function buildRE(w){return new RegExp(\"^(\"+w.join(\"|\")+\")$\");}\n  function tokenBase(stream,state){\n    var sol=stream.sol(),c=stream.next();\n    curPunc=null;\n    if(sol)\n      if(c==\"/\")\n        return(state.tokenize=tokenLineComment)(stream,state);\n      else if(c==\"\\\\\"){\n        if(stream.eol()||/\\s/.test(stream.peek()))\n          return stream.skipToEnd(),/^\\\\\\s*$/.test(stream.current())?(state.tokenize=tokenCommentToEOF)(stream):state.tokenize=tokenBase,\"comment\";\n        else\n          return state.tokenize=tokenBase,\"builtin\";\n      }\n    if(/\\s/.test(c))\n      return stream.peek()==\"/\"?(stream.skipToEnd(),\"comment\"):\"whitespace\";\n    if(c=='\"')\n      return(state.tokenize=tokenString)(stream,state);\n    if(c=='`')\n      return stream.eatWhile(/[A-Za-z\\d_:\\/.]/),\"symbol\";\n    if((\".\"==c&&/\\d/.test(stream.peek()))||/\\d/.test(c)){\n      var t=null;\n      stream.backUp(1);\n      if(stream.match(/^\\d{4}\\.\\d{2}(m|\\.\\d{2}([DT](\\d{2}(:\\d{2}(:\\d{2}(\\.\\d{1,9})?)?)?)?)?)/)\n      || stream.match(/^\\d+D(\\d{2}(:\\d{2}(:\\d{2}(\\.\\d{1,9})?)?)?)/)\n      || stream.match(/^\\d{2}:\\d{2}(:\\d{2}(\\.\\d{1,9})?)?/)\n      || stream.match(/^\\d+[ptuv]{1}/))\n        t=\"temporal\";\n      else if(stream.match(/^0[NwW]{1}/)\n      || stream.match(/^0x[\\da-fA-F]*/)\n      || stream.match(/^[01]+[b]{1}/)\n      || stream.match(/^\\d+[chijn]{1}/)\n      || stream.match(/-?\\d*(\\.\\d*)?(e[+\\-]?\\d+)?(e|f)?/))\n        t=\"number\";\n      return(t&&(!(c=stream.peek())||E.test(c)))?t:(stream.next(),\"error\");\n    }\n    if(/[A-Za-z]|\\./.test(c))\n      return stream.eatWhile(/[A-Za-z._\\d]/),keywords.test(stream.current())?\"keyword\":\"variable\";\n    if(/[|/&^!+:\\\\\\-*%$=~#;@><\\.,?_\\']/.test(c))\n      return null;\n    if(/[{}\\(\\[\\]\\)]/.test(c))\n      return null;\n    return\"error\";\n  }\n  function tokenLineComment(stream,state){\n    return stream.skipToEnd(),/\\/\\s*$/.test(stream.current())?(state.tokenize=tokenBlockComment)(stream,state):(state.tokenize=tokenBase),\"comment\";\n  }\n  function tokenBlockComment(stream,state){\n    var f=stream.sol()&&stream.peek()==\"\\\\\";\n    stream.skipToEnd();\n    if(f&&/^\\\\\\s*$/.test(stream.current()))\n      state.tokenize=tokenBase;\n    return\"comment\";\n  }\n  function tokenCommentToEOF(stream){return stream.skipToEnd(),\"comment\";}\n  function tokenString(stream,state){\n    var escaped=false,next,end=false;\n    while((next=stream.next())){\n      if(next==\"\\\"\"&&!escaped){end=true;break;}\n      escaped=!escaped&&next==\"\\\\\";\n    }\n    if(end)state.tokenize=tokenBase;\n    return\"string\";\n  }\n  function pushContext(state,type,col){state.context={prev:state.context,indent:state.indent,col:col,type:type};}\n  function popContext(state){state.indent=state.context.indent;state.context=state.context.prev;}\n  return{\n    startState:function(){\n      return{tokenize:tokenBase,\n             context:null,\n             indent:0,\n             col:0};\n    },\n    token:function(stream,state){\n      if(stream.sol()){\n        if(state.context&&state.context.align==null)\n          state.context.align=false;\n        state.indent=stream.indentation();\n      }\n      //if (stream.eatSpace()) return null;\n      var style=state.tokenize(stream,state);\n      if(style!=\"comment\"&&state.context&&state.context.align==null&&state.context.type!=\"pattern\"){\n        state.context.align=true;\n      }\n      if(curPunc==\"(\")pushContext(state,\")\",stream.column());\n      else if(curPunc==\"[\")pushContext(state,\"]\",stream.column());\n      else if(curPunc==\"{\")pushContext(state,\"}\",stream.column());\n      else if(/[\\]\\}\\)]/.test(curPunc)){\n        while(state.context&&state.context.type==\"pattern\")popContext(state);\n        if(state.context&&curPunc==state.context.type)popContext(state);\n      }\n      else if(curPunc==\".\"&&state.context&&state.context.type==\"pattern\")popContext(state);\n      else if(/atom|string|variable/.test(style)&&state.context){\n        if(/[\\}\\]]/.test(state.context.type))\n          pushContext(state,\"pattern\",stream.column());\n        else if(state.context.type==\"pattern\"&&!state.context.align){\n          state.context.align=true;\n          state.context.col=stream.column();\n        }\n      }\n      return style;\n    },\n    indent:function(state,textAfter){\n      var firstChar=textAfter&&textAfter.charAt(0);\n      var context=state.context;\n      if(/[\\]\\}]/.test(firstChar))\n        while (context&&context.type==\"pattern\")context=context.prev;\n      var closing=context&&firstChar==context.type;\n      if(!context)\n        return 0;\n      else if(context.type==\"pattern\")\n        return context.col;\n      else if(context.align)\n        return context.col+(closing?0:1);\n      else\n        return context.indent+(closing?0:indentUnit);\n    }\n  };\n});\nCodeMirror.defineMIME(\"text/x-q\",\"q\");\n\n});\n"],"file":"q.js"}