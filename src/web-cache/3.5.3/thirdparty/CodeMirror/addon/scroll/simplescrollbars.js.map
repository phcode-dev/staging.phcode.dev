{"version":3,"sources":["thirdparty/CodeMirror/addon/scroll/simplescrollbars.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","Bar","cls","orientation","scroll","this","screen","total","size","pos","node","document","createElement","className","inner","appendChild","self","onWheel","e","moved","wheelEventPixels","oldPos","moveTo","e_preventDefault","on","which","axis","start","startpos","move","done","off","innerBox","getBoundingClientRect","where","clientX","left","right","clientY","top","bottom","prototype","setPos","force","style","minButtonSize","SimpleScrollbars","place","addClass","horiz","vert","width","update","scrollSize","clientSize","barSize","sizeChanged","buttonSize","measure","window","getComputedStyle","currentStyle","parseInt","height","needsH","scrollWidth","clientWidth","needsV","scrollHeight","clientHeight","display","viewHeight","viewWidth","barLeft","setScrollTop","setScrollLeft","clear","parent","parentNode","removeChild","scrollbarModel","simple","overlay"],"mappings":"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","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function Bar(cls, orientation, scroll) {\n    this.orientation = orientation;\n    this.scroll = scroll;\n    this.screen = this.total = this.size = 1;\n    this.pos = 0;\n\n    this.node = document.createElement(\"div\");\n    this.node.className = cls + \"-\" + orientation;\n    this.inner = this.node.appendChild(document.createElement(\"div\"));\n\n    var self = this;\n    CodeMirror.on(this.inner, \"mousedown\", function(e) {\n      if (e.which != 1) return;\n      CodeMirror.e_preventDefault(e);\n      var axis = self.orientation == \"horizontal\" ? \"pageX\" : \"pageY\";\n      var start = e[axis], startpos = self.pos;\n      function done() {\n        CodeMirror.off(document, \"mousemove\", move);\n        CodeMirror.off(document, \"mouseup\", done);\n      }\n      function move(e) {\n        if (e.which != 1) return done();\n        self.moveTo(startpos + (e[axis] - start) * (self.total / self.size));\n      }\n      CodeMirror.on(document, \"mousemove\", move);\n      CodeMirror.on(document, \"mouseup\", done);\n    });\n\n    CodeMirror.on(this.node, \"click\", function(e) {\n      CodeMirror.e_preventDefault(e);\n      var innerBox = self.inner.getBoundingClientRect(), where;\n      if (self.orientation == \"horizontal\")\n        where = e.clientX < innerBox.left ? -1 : e.clientX > innerBox.right ? 1 : 0;\n      else\n        where = e.clientY < innerBox.top ? -1 : e.clientY > innerBox.bottom ? 1 : 0;\n      self.moveTo(self.pos + where * self.screen);\n    });\n\n    function onWheel(e) {\n      var moved = CodeMirror.wheelEventPixels(e)[self.orientation == \"horizontal\" ? \"x\" : \"y\"];\n      var oldPos = self.pos;\n      self.moveTo(self.pos + moved);\n      if (self.pos != oldPos) CodeMirror.e_preventDefault(e);\n    }\n    CodeMirror.on(this.node, \"mousewheel\", onWheel);\n    CodeMirror.on(this.node, \"DOMMouseScroll\", onWheel);\n  }\n\n  Bar.prototype.setPos = function(pos, force) {\n    if (pos < 0) pos = 0;\n    if (pos > this.total - this.screen) pos = this.total - this.screen;\n    if (!force && pos == this.pos) return false;\n    this.pos = pos;\n    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] =\n      (pos * (this.size / this.total)) + \"px\";\n    return true\n  };\n\n  Bar.prototype.moveTo = function(pos) {\n    if (this.setPos(pos)) this.scroll(pos, this.orientation);\n  }\n\n  var minButtonSize = 10;\n\n  Bar.prototype.update = function(scrollSize, clientSize, barSize) {\n    var sizeChanged = this.screen != clientSize || this.total != scrollSize || this.size != barSize\n    if (sizeChanged) {\n      this.screen = clientSize;\n      this.total = scrollSize;\n      this.size = barSize;\n    }\n\n    var buttonSize = this.screen * (this.size / this.total);\n    if (buttonSize < minButtonSize) {\n      this.size -= minButtonSize - buttonSize;\n      buttonSize = minButtonSize;\n    }\n    this.inner.style[this.orientation == \"horizontal\" ? \"width\" : \"height\"] =\n      buttonSize + \"px\";\n    this.setPos(this.pos, sizeChanged);\n  };\n\n  function SimpleScrollbars(cls, place, scroll) {\n    this.addClass = cls;\n    this.horiz = new Bar(cls, \"horizontal\", scroll);\n    place(this.horiz.node);\n    this.vert = new Bar(cls, \"vertical\", scroll);\n    place(this.vert.node);\n    this.width = null;\n  }\n\n  SimpleScrollbars.prototype.update = function(measure) {\n    if (this.width == null) {\n      var style = window.getComputedStyle ? window.getComputedStyle(this.horiz.node) : this.horiz.node.currentStyle;\n      if (style) this.width = parseInt(style.height);\n    }\n    var width = this.width || 0;\n\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    this.vert.node.style.display = needsV ? \"block\" : \"none\";\n    this.horiz.node.style.display = needsH ? \"block\" : \"none\";\n\n    if (needsV) {\n      this.vert.update(measure.scrollHeight, measure.clientHeight,\n                       measure.viewHeight - (needsH ? width : 0));\n      this.vert.node.style.bottom = needsH ? width + \"px\" : \"0\";\n    }\n    if (needsH) {\n      this.horiz.update(measure.scrollWidth, measure.clientWidth,\n                        measure.viewWidth - (needsV ? width : 0) - measure.barLeft);\n      this.horiz.node.style.right = needsV ? width + \"px\" : \"0\";\n      this.horiz.node.style.left = measure.barLeft + \"px\";\n    }\n\n    return {right: needsV ? width : 0, bottom: needsH ? width : 0};\n  };\n\n  SimpleScrollbars.prototype.setScrollTop = function(pos) {\n    this.vert.setPos(pos);\n  };\n\n  SimpleScrollbars.prototype.setScrollLeft = function(pos) {\n    this.horiz.setPos(pos);\n  };\n\n  SimpleScrollbars.prototype.clear = function() {\n    var parent = this.horiz.node.parentNode;\n    parent.removeChild(this.horiz.node);\n    parent.removeChild(this.vert.node);\n  };\n\n  CodeMirror.scrollbarModel.simple = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-simplescroll\", place, scroll);\n  };\n  CodeMirror.scrollbarModel.overlay = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-overlayscroll\", place, scroll);\n  };\n});\n"],"file":"simplescrollbars.js"}