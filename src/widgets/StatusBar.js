define(function(require,exports,module){var AppInit=require("utils/AppInit"),StatusBarHTML=require("text!widgets/StatusBar.html"),Strings=require("strings"),WorkspaceManager=require("view/WorkspaceManager"),Mustache=require("thirdparty/mustache/mustache"),_init=!1,_busyCursor=!1,_indicatorIDRegexp=new RegExp("[^a-zA-Z 0-9]+","g"),$statusInfo,$statusBar,$indicators,$busyIndicator;function showBusyIndicator(updateCursor){_init?(updateCursor&&(_busyCursor=!0,$("*").addClass("busyCursor")),$busyIndicator.addClass("spin")):console.error("StatusBar API invoked before status bar created")}function hideBusyIndicator(){_init?(_busyCursor&&(_busyCursor=!1,$("*").removeClass("busyCursor")),$busyIndicator.removeClass("spin")):console.error("StatusBar API invoked before status bar created")}function addIndicator(id,indicator,visible,style,tooltip,insertBefore){if(_init){indicator=indicator||window.document.createElement("div"),tooltip=tooltip||"",style=style||"",id=id.replace(_indicatorIDRegexp,"-")||"";var $indicator=$(indicator);if($indicator.attr("id",id),$indicator.attr("title",tooltip),$indicator.addClass("indicator"),$indicator.addClass(style),visible||$indicator.hide(),insertBefore&&$("#"+insertBefore).length>0)$indicator.insertAfter("#"+insertBefore);else{var $busyIndicator=$("#status-bar .spinner");$indicator.insertBefore($busyIndicator)}}else console.error("StatusBar API invoked before status bar created")}function updateIndicator(id,visible,style,tooltip){if(_init||!brackets.test){var $indicator=$("#"+id.replace(_indicatorIDRegexp,"-"));$indicator&&(visible?$indicator.show():$indicator.hide(),style?($indicator.removeClass(),$indicator.addClass(style)):($indicator.removeClass(),$indicator.addClass("indicator")),tooltip&&$indicator.attr("title",tooltip))}else console.error("StatusBar API invoked before status bar created")}function hideInformation(){$statusInfo.css("display","none")}function showInformation(){$statusInfo.css("display","")}function hideIndicators(){$indicators.css("display","none")}function showIndicators(){$indicators.css("display","")}function hideAllPanes(){hideInformation(),hideIndicators()}function showAllPanes(){showInformation(),showIndicators()}function hide(){_init?$statusBar.is(":visible")&&($statusBar.hide(),WorkspaceManager.recomputeLayout()):console.error("StatusBar API invoked before status bar created")}function show(){_init?$statusBar.is(":visible")||($statusBar.show(),WorkspaceManager.recomputeLayout()):console.error("StatusBar API invoked before status bar created")}AppInit.htmlReady(function(){var $parent;$(".main-view .content").append(Mustache.render(StatusBarHTML,Strings)),$statusBar=$("#status-bar"),$indicators=$("#status-indicators"),$busyIndicator=$("#status-bar .spinner"),$statusInfo=$("#status-info"),_init=!0,hide()}),exports.hideInformation=hideInformation,exports.showInformation=showInformation,exports.showBusyIndicator=showBusyIndicator,exports.hideBusyIndicator=hideBusyIndicator,exports.hideIndicators=hideIndicators,exports.showIndicators=showIndicators,exports.hideAllPanes=hideAllPanes,exports.showAllPanes=showAllPanes,exports.addIndicator=addIndicator,exports.updateIndicator=updateIndicator,exports.hide=hide,exports.show=show});
//# sourceMappingURL=StatusBar.js.map
