define(function ConsoleAgent(require,exports,module){var Inspector=require("LiveDevelopment/Inspector/Inspector"),_lastMessage;function _log(message){var level=message.level;"warning"===level&&(level="warn");var text="ConsoleAgent: "+message.text;if(message.url&&(text+=" (url: "+message.url+")"),message.stackTrace){var callFrame=message.stackTrace[0];text+=" in "+callFrame.functionName+":"+callFrame.columnNumber}console[level](text)}function _onMessageAdded(event,res){_log(_lastMessage=res.message)}function _onMessageRepeatCountUpdated(event,res){_lastMessage&&_log(_lastMessage)}function _onMessagesCleared(event,res){}function enable(){return Inspector.Console.enable()}function load(){Inspector.Console.on("messageAdded.ConsoleAgent",_onMessageAdded).on("messageRepeatCountUpdated.ConsoleAgent",_onMessageRepeatCountUpdated).on("messagesCleared.ConsoleAgent",_onMessagesCleared)}function unload(){Inspector.Console.off(".ConsoleAgent")}exports.enable=enable,exports.load=load,exports.unload=unload});
//# sourceMappingURL=ConsoleAgent.js.map
