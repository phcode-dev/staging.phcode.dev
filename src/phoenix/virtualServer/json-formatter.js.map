{"version":3,"sources":["phoenix/virtualServer/json-formatter.js"],"names":["self","JSONFormatter","format404","url","body","config","status","statusText","headers","Content-Type","format500","path","err","message","formatDir","route","entries","JSON","stringify","formatFile","contents","stats"],"mappings":"AAmBA,IAAIA,KAAKC,cAAc,CACnB,SAASC,UAAUC,KACf,MAAO,CACHC,0BAA2BD,oCAC3BE,OAAQ,CACJC,OAAQ,IACRC,WAAY,YACZC,QAAS,CAACC,eAAgB,sBAKtC,SAASC,UAAUC,KAAMC,KACrB,MAAO,CACHR,wCAAyCO,SAASC,IAAIC,UACtDR,OAAQ,CACJC,OAAQ,IACRC,WAAY,YACZC,QAAS,CAACC,eAAgB,sBAKtC,SAASK,UAAUC,MAAOJ,KAAMK,SAC5B,MAAO,CACHZ,KAAMa,KAAKC,UAAUF,SACrBX,OAAQ,CACJC,OAAQ,IACRC,WAAY,KACZC,QAAS,CAACC,eAAgB,sBAKtC,SAASU,WAAWR,KAAMS,SAAUC,OAChC,MAAO,CACHjB,KAAMa,KAAKC,UAAUG,OACrBhB,OAAQ,CACJC,OAAQ,IACRC,WAAY,KACZC,QAAS,CAACC,eAAgB,sBAKtCT,KAAKC,cAAgB,CACjBC,UAAAA,UACAQ,UAAAA,UACAI,UAAAA,UACAK,WAAAA","sourcesContent":["/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n * modified by core.ai, based on work by David Humphrey <david.humphrey@senecacolleage.ca> (@humphd)\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\nif(!self.JSONFormatter){\n    function format404(url) {\n        return {\n            body: `The requested URL ${url} was not found on this server.`,\n            config: {\n                status: 404,\n                statusText: 'Not Found',\n                headers: {'Content-Type': 'application/json'}\n            }\n        };\n    }\n\n    function format500(path, err) {\n        return {\n            body: `Internal Server Error accessing ${path}: ${err.message}`,\n            config: {\n                status: 500,\n                statusText: 'Not Found',\n                headers: {'Content-Type': 'application/json'}\n            }\n        };\n    }\n\n    function formatDir(route, path, entries) {\n        return {\n            body: JSON.stringify(entries),\n            config: {\n                status: 200,\n                statusText: 'OK',\n                headers: {'Content-Type': 'application/json'}\n            }\n        };\n    }\n\n    function formatFile(path, contents, stats) {\n        return {\n            body: JSON.stringify(stats),\n            config: {\n                status: 200,\n                statusText: 'OK',\n                headers: {'Content-Type': 'application/json'}\n            }\n        };\n    }\n\n    self.JSONFormatter = {\n        format404,\n        format500,\n        formatDir,\n        formatFile\n    };\n\n}\n"],"file":"json-formatter.js"}