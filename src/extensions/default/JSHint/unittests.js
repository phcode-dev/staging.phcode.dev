define(function(require,exports,module){var SpecRunnerUtils=brackets.getModule("spec/SpecRunnerUtils");describe("extension:JSHint",function(){var testFolder=SpecRunnerUtils.getTestPath("/spec/Extension-test-project-files/"),testProjectsFolder=SpecRunnerUtils.getTestPath("/spec/JSHintExtensionTest-files/"),testWindow,$,CodeInspection,toggleJSLintResults=function(){$("#status-inspection").triggerHandler("click")};beforeAll(async function(){testWindow=await SpecRunnerUtils.createTestWindowAndRun(),$=testWindow.$,(CodeInspection=testWindow.brackets.test.CodeInspection).toggleEnabled(!0),await SpecRunnerUtils.loadProjectInTestWindow(testFolder)},3e4),afterAll(async function(){testWindow=null,$=null,await SpecRunnerUtils.closeTestWindow()}),it("status icon should toggle Errors panel when errors present",async function(){await awaitsForDone(SpecRunnerUtils.openProjectFiles(["errors.js"]),"open test file"),await awaits(100),expect($("#problems-panel").is(":visible")).toBe(!0),toggleJSLintResults(),expect($("#problems-panel").is(":visible")).toBe(!1),toggleJSLintResults(),expect($("#problems-panel").is(":visible")).toBe(!0)}),it("should show errors if invalid .jshintrc detected",async function(){await SpecRunnerUtils.loadProjectInTestWindow(testProjectsFolder+"invalid-config"),await awaitsForDone(SpecRunnerUtils.openProjectFiles(["no-errors.js"]),"open test file"),await awaits(100),expect($("#problems-panel").is(":visible")).toBe(!0)}),it("should load valid es6 .jshintrc in project",async function(){await SpecRunnerUtils.loadProjectInTestWindow(testProjectsFolder+"valid-config-es6"),await awaitsForDone(SpecRunnerUtils.openProjectFiles(["es6.js"]),"open test file es6.js"),await awaits(100),expect($("#problems-panel").is(":visible")).toBe(!1),await awaitsForDone(SpecRunnerUtils.openProjectFiles(["es8.js"]),"open test file es8.js"),await awaits(100),expect($("#problems-panel").is(":visible")).toBe(!0)}),it("should extend valid es6 .jshintrc in project",async function(){await SpecRunnerUtils.loadProjectInTestWindow(testProjectsFolder+"valid-config-es6-extend"),await awaitsForDone(SpecRunnerUtils.openProjectFiles(["es6.js"]),"open test file es6.js"),await awaits(100),expect($("#problems-panel").is(":visible")).toBe(!1),await awaitsForDone(SpecRunnerUtils.openProjectFiles(["es8.js"]),"open test file es8.js"),await awaits(100),expect($("#problems-panel").is(":visible")).toBe(!0)}),it("should show errors if invalid .jshintrc extend file detected",async function(){await SpecRunnerUtils.loadProjectInTestWindow(testProjectsFolder+"invalid-config-extend"),await awaitsForDone(SpecRunnerUtils.openProjectFiles(["no-errors.js"]),"open test file"),await awaits(100),expect($("#problems-panel").is(":visible")).toBe(!0)})})});
//# sourceMappingURL=unittests.js.map
