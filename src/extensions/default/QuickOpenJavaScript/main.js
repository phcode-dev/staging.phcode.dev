define(function(require,exports,module){var EditorManager=brackets.getModule("editor/EditorManager"),QuickOpen=brackets.getModule("search/QuickOpen"),QuickOpenHelper=brackets.getModule("search/QuickOpenHelper"),JSUtils=brackets.getModule("language/JSUtils"),DocumentManager=brackets.getModule("document/DocumentManager"),StringMatch=brackets.getModule("utils/StringMatch");function FileLocation(fullPath,line,chFrom,chTo,functionName){this.fullPath=fullPath,this.line=line,this.chFrom=chFrom,this.chTo=chTo,this.functionName=functionName}function createFunctionList(){var doc=DocumentManager.getCurrentDocument();if(doc){var functionList=[],docText=doc.getText(),lines=docText.split("\n"),functions;return JSUtils.findAllMatchingFunctionsInText(docText,"*").forEach(function(funcEntry){functionList.push(new FileLocation(null,funcEntry.nameLineStart,funcEntry.columnStart,funcEntry.columnEnd,funcEntry.label||funcEntry.name))}),functionList}}function search(query,matcher){var functionList=matcher.functionList;functionList||(functionList=createFunctionList(),matcher.functionList=functionList),query=query.slice(query.indexOf("@")+1,query.length);var filteredList=$.map(functionList,function(fileLocation){var searchResult=matcher.match(fileLocation.functionName,query);return searchResult&&(searchResult.fileLocation=fileLocation),searchResult});return StringMatch.basicMatchSort(filteredList),filteredList}QuickOpen.addQuickOpenPlugin({name:"JavaScript functions",languageIds:["javascript"],search:search,match:QuickOpenHelper.match,itemFocus:QuickOpenHelper.itemFocus,itemSelect:QuickOpenHelper.itemSelect})});
//# sourceMappingURL=main.js.map
