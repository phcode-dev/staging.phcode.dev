{"version":3,"sources":["extensions/default/HealthData/HealthDataPopup.js"],"names":["define","require","exports","module","MainViewManager","brackets","getModule","Dialogs","Strings","Mustache","HealthDataNotificationHtml","closeCallout","$callout","$","hasClass","removeClass","addClass","one","remove","showFirstLaunchTooltip","TOP_MARGIN","popupTop","offset","top","result","Deferred","$firstLaunchPopup","render","addLinkTooltips","appendTo","hide","css","find","click","focusActivePane","resolve","show","setTimeout","promise"],"mappings":"AAwBAA,OAAO,SAAUC,QAASC,QAASC,QAG/B,IAAIC,gBAA8BC,SAASC,UAAU,wBACjDC,QAA8BF,SAASC,UAAU,mBACjDE,QAA8BH,SAASC,UAAU,WACjDG,SAA8BJ,SAASC,UAAU,gCACjDI,2BAA8BT,QAAQ,0CAE1C,SAASU,eACL,IAAIC,SAAWC,EAAE,iCAEZD,SAASE,SAAS,iBAKvBF,SAASG,YAAY,eACrBH,SACKI,SAAS,gBACTC,IAAI,sBAAuB,WAGxBL,SAASG,YAAY,gBACrBH,SAASM,YAIrB,SAASC,yBACL,IAAIC,WAAa,EACbC,SAAWR,EAAE,kBAAkBS,SAASC,IAD3B,EAEbC,OAAS,IAAIX,EAAEY,SACfC,kBAAoBb,EAAEJ,SAASkB,OAAOjB,2BAA4B,CAACF,QAAWA,WAmBlF,OAjBAD,QAAQqB,gBAAgBF,mBAExBA,kBAAkBG,SAAS,QAAQC,OACjBC,IAAI,MAAOV,UACXW,KAAK,kCAAkCC,MAAM,WACvDtB,eACAP,gBAAgB8B,kBAChBV,OAAOW,YAEfT,kBAAkBU,OAIlBC,WAAW,WACPxB,EAAE,iCAAiCG,SAAS,gBAC7C,GAEIQ,OAAOc,UAGlBpC,QAAQiB,uBAAkCA","sourcesContent":["/*\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n * Original work Copyright (c) 2015 - 2021 Adobe Systems Incorporated. All rights reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n *\n */\n\ndefine(function (require, exports, module) {\n\n    // Load dependent modules\n    var MainViewManager             = brackets.getModule(\"view/MainViewManager\"),\n        Dialogs                     = brackets.getModule(\"widgets/Dialogs\"),\n        Strings                     = brackets.getModule(\"strings\"),\n        Mustache                    = brackets.getModule(\"thirdparty/mustache/mustache\"),\n        HealthDataNotificationHtml  = require(\"text!htmlContent/healthdata-popup.html\");\n\n    function closeCallout() {\n        var $callout = $(\"#healthdata-firstlaunch-popup\");\n\n        if (!$callout.hasClass(\"animateOpen\")) {\n            return;\n        }\n\n        // Animate out\n        $callout.removeClass(\"animateOpen\");\n        $callout\n            .addClass(\"animateClose\")\n            .one(\"webkitTransitionEnd\", function () {\n                // Normally we'd use AnimationUtils for this, but due to an apparent Chrome bug, calling .is(\":hidden\")\n                // causes the animation not to play (even though it returns false and that early-exit branch isn't taken).\n                $callout.removeClass(\"animateClose\");\n                $callout.remove();\n            });\n    }\n\n    function showFirstLaunchTooltip() {\n        var TOP_MARGIN = 7,\n            popupTop = $(\"#editor-holder\").offset().top + TOP_MARGIN,\n            result = new $.Deferred(),\n            $firstLaunchPopup = $(Mustache.render(HealthDataNotificationHtml, {\"Strings\": Strings}));\n\n        Dialogs.addLinkTooltips($firstLaunchPopup);\n\n        $firstLaunchPopup.appendTo(\"body\").hide()\n                         .css(\"top\", popupTop)\n                         .find(\".healthdata-popup-close-button\").click(function () {\n                closeCallout();\n                MainViewManager.focusActivePane();\n                result.resolve();\n            });\n        $firstLaunchPopup.show();\n\n        // Animate in\n        // Must wait a cycle for the \"display: none\" to drop out before CSS transitions will work\n        setTimeout(function () {\n            $(\"#healthdata-firstlaunch-popup\").addClass(\"animateOpen\");\n        }, 0);\n\n        return result.promise();\n    }\n\n    exports.showFirstLaunchTooltip          = showFirstLaunchTooltip;\n});\n"],"file":"HealthDataPopup.js"}