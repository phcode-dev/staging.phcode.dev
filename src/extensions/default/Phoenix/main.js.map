{"version":3,"sources":["extensions/default/Phoenix/main.js"],"names":["define","require","exports","module","Survey","serverSync","newProject","defaultProjects","newFeature","AppInit","brackets","getModule","Strings","Dialogs","Mustache","unSupportedBrowserTemplate","$icon","_addToolbarIcon","helpButtonID","$","attr","id","href","class","title","CMD_SUPPORT","appendTo","on","window","open","config","support_url","_showUnSupportedBrowserDialogue","templateVars","surveyURL","showModalDialogUsingTemplate","render","_detectUnSupportedBrowser","supportedBrowser","Phoenix","browser","isDeskTop","desktop","isChrome","isEdgeChromium","isOperaChromium","appReady","init"],"mappings":"AAyBAA,OAAO,SAAUC,QAASC,QAASC,QAC/B,IAAIC,OAAeH,QAAQ,UACvBI,WAAeJ,QAAQ,cACvBK,WAAeL,QAAQ,eACvBM,gBAAoBN,QAAQ,oBAC5BO,WAAeP,QAAQ,wBACvBQ,QAAeC,SAASC,UAAU,iBAClCC,QAAeF,SAASC,UAAU,WAClCE,QAAeH,SAASC,UAAU,mBAClCG,SAAeJ,SAASC,UAAU,gCAClCI,2BAAiCd,QAAQ,sCAEzCe,MAEJ,SAASC,kBACL,MAAMC,aAAe,eACrBF,MAAQG,EAAE,OACLC,KAAK,CACFC,GAAIH,aACJI,KAAM,IACNC,MAAO,OACPC,MAAOZ,QAAQa,cAElBC,SAASP,EAAE,mCACVQ,GAAG,QAAS,KACdC,OAAOC,KAAKnB,SAASoB,OAAOC,eAGpC,SAASC,kCACL,IAAIC,aAAe,CACfrB,QAASA,QACTsB,UAAW,uDAEfrB,QAAQsB,6BAA6BrB,SAASsB,OAAOrB,2BAA4BkB,eAGrF,SAASI,4BACL,IAAIC,iBAAmBC,QAAQC,QAAQC,YAAcF,QAAQC,QAAQE,QAAQC,UACzEJ,QAAQC,QAAQE,QAAQE,gBAAkBL,QAAQC,QAAQE,QAAQG,kBAElEb,kCAIRvB,QAAQqC,SAAS,WACb7B,kBACAb,OAAO2C,OACP1C,WAAW0C,OACXxC,gBAAgBwC,OAChBzC,WAAWyC,OACXvC,WAAWuC,OACXV","sourcesContent":["/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it\n * under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License\n * for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n/*global Phoenix*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n/* jshint ignore:start */\n\ndefine(function (require, exports, module) {\n    let Survey       = require(\"survey\"),\n        serverSync   = require(\"serverSync\"),\n        newProject   = require(\"new-project\"),\n        defaultProjects   = require(\"default-projects\"),\n        newFeature   = require(\"newly-added-features\"),\n        AppInit      = brackets.getModule(\"utils/AppInit\"),\n        Strings      = brackets.getModule(\"strings\"),\n        Dialogs      = brackets.getModule(\"widgets/Dialogs\"),\n        Mustache     = brackets.getModule(\"thirdparty/mustache/mustache\"),\n        unSupportedBrowserTemplate     = require(\"text!html/unsupported-browser.html\");\n\n    let $icon;\n\n    function _addToolbarIcon() {\n        const helpButtonID = \"help-button\";\n        $icon = $(\"<a>\")\n            .attr({\n                id: helpButtonID,\n                href: \"#\",\n                class: \"help\",\n                title: Strings.CMD_SUPPORT\n            })\n            .appendTo($(\"#main-toolbar .bottom-buttons\"));\n        $icon.on('click', ()=>{\n            window.open(brackets.config.support_url);\n        });\n    }\n    function _showUnSupportedBrowserDialogue() {\n        var templateVars = {\n            Strings: Strings,\n            surveyURL: \"https://s.surveyplanet.com/6208d1eccd51c561fc8e59ca\"\n        };\n        Dialogs.showModalDialogUsingTemplate(Mustache.render(unSupportedBrowserTemplate, templateVars));\n    }\n\n    function _detectUnSupportedBrowser() {\n        let supportedBrowser = Phoenix.browser.isDeskTop && (Phoenix.browser.desktop.isChrome ||\n            Phoenix.browser.desktop.isEdgeChromium || Phoenix.browser.desktop.isOperaChromium);\n        if(!supportedBrowser){\n            _showUnSupportedBrowserDialogue();\n        }\n    }\n\n    AppInit.appReady(function () {\n        _addToolbarIcon();\n        Survey.init();\n        serverSync.init();\n        defaultProjects.init();\n        newProject.init();\n        newFeature.init();\n        _detectUnSupportedBrowser();\n    });\n});\n"],"file":"main.js"}