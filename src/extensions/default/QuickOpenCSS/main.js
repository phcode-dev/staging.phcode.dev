define(function(require,exports,module){var EditorManager=brackets.getModule("editor/EditorManager"),QuickOpen=brackets.getModule("search/QuickOpen"),QuickOpenHelper=brackets.getModule("search/QuickOpenHelper"),CSSUtils=brackets.getModule("language/CSSUtils"),DocumentManager=brackets.getModule("document/DocumentManager"),StringMatch=brackets.getModule("utils/StringMatch");function createSelectorList(){var doc=DocumentManager.getCurrentDocument();if(doc){var docText=doc.getText();return CSSUtils.extractAllSelectors(docText,doc.getLanguage().getMode())}}function search(query,matcher){var selectorList=matcher.selectorList;selectorList||(selectorList=createSelectorList(),matcher.selectorList=selectorList),query=query.slice(query.indexOf("@")+1,query.length);var filteredList=$.map(selectorList,function(itemInfo){var searchResult=matcher.match(CSSUtils.getCompleteSelectors(itemInfo),query);return searchResult&&(searchResult.selectorInfo=itemInfo),searchResult});return StringMatch.basicMatchSort(filteredList),filteredList}function itemFocus(selectedItem,query,explicit){if(!(!selectedItem||query.length<2&&!explicit)){var selectorInfo=selectedItem.selectorInfo,from={line:selectorInfo.selectorStartLine,ch:selectorInfo.selectorStartChar},to={line:selectorInfo.selectorStartLine,ch:selectorInfo.selectorEndChar};EditorManager.getCurrentFullEditor().setSelection(from,to,!0)}}function itemSelect(selectedItem,query){itemFocus(selectedItem,query,!0)}QuickOpen.addQuickOpenPlugin({name:"CSS Selectors",languageIds:["css","less","scss"],search:search,match:QuickOpenHelper.match,itemFocus:itemFocus,itemSelect:itemSelect})});
//# sourceMappingURL=main.js.map
