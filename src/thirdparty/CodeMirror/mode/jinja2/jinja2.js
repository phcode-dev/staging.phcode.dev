!function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.defineMode("jinja2",function(){var keywords=["and","as","block","endblock","by","cycle","debug","else","elif","extends","filter","endfilter","firstof","do","for","endfor","if","endif","ifchanged","endifchanged","ifequal","endifequal","ifnotequal","set","raw","endraw","endifnotequal","in","include","load","not","now","or","parsed","regroup","reversed","spaceless","call","endcall","macro","endmacro","endspaceless","ssi","templatetag","openblock","closeblock","openvariable","closevariable","without","context","openbrace","closebrace","opencomment","closecomment","widthratio","url","with","endwith","get_current_language","trans","endtrans","noop","blocktrans","endblocktrans","get_available_languages","get_current_language_bidi","pluralize","autoescape","endautoescape"],operator=/^[+\-*&%=<>!?|~^]/,sign=/^[:\[\(\{]/,atom=["true","false"],number=/^(\d[+\-\*\/])?\d+(\.\d+)?/;function tokenBase(stream,state){var ch=stream.peek();if(state.incomment)return stream.skipTo("#}")?(stream.eatWhile(/\#|}/),state.incomment=!1):stream.skipToEnd(),"comment";if(state.intag){if(state.operator){if(state.operator=!1,stream.match(atom))return"atom";if(stream.match(number))return"number"}if(state.sign){if(state.sign=!1,stream.match(atom))return"atom";if(stream.match(number))return"number"}if(state.instring)return ch==state.instring&&(state.instring=!1),stream.next(),"string";if("'"==ch||'"'==ch)return state.instring=ch,stream.next(),"string";if(state.inbraces>0&&")"==ch)stream.next(),state.inbraces--;else if("("==ch)stream.next(),state.inbraces++;else if(state.inbrackets>0&&"]"==ch)stream.next(),state.inbrackets--;else if("["==ch)stream.next(),state.inbrackets++;else{if(!state.lineTag&&(stream.match(state.intag+"}")||stream.eat("-")&&stream.match(state.intag+"}")))return state.intag=!1,"tag";if(stream.match(operator))return state.operator=!0,"operator";if(stream.match(sign))state.sign=!0;else{if(1==stream.column()&&state.lineTag&&stream.match(keywords))return"keyword";if(stream.eat(" ")||stream.sol()){if(stream.match(keywords))return"keyword";if(stream.match(atom))return"atom";if(stream.match(number))return"number";stream.sol()&&stream.next()}else stream.next()}}return"variable"}if(stream.eat("{")){if(stream.eat("#"))return state.incomment=!0,stream.skipTo("#}")?(stream.eatWhile(/\#|}/),state.incomment=!1):stream.skipToEnd(),"comment";if(ch=stream.eat(/\{|%/))return state.intag=ch,state.inbraces=0,state.inbrackets=0,"{"==ch&&(state.intag="}"),stream.eat("-"),"tag"}else if(stream.eat("#")){if("#"==stream.peek())return stream.skipToEnd(),"comment";if(!stream.eol())return state.intag=!0,state.lineTag=!0,state.inbraces=0,state.inbrackets=0,"tag"}stream.next()}return keywords=new RegExp("(("+keywords.join(")|(")+"))\\b"),atom=new RegExp("(("+atom.join(")|(")+"))\\b"),{startState:function(){return{tokenize:tokenBase,inbrackets:0,inbraces:0}},token:function(stream,state){var style=state.tokenize(stream,state);return stream.eol()&&state.lineTag&&!state.instring&&0==state.inbraces&&0==state.inbrackets&&(state.intag=!1,state.lineTag=!1),style},blockCommentStart:"{#",blockCommentEnd:"#}",lineComment:"##"}}),CodeMirror.defineMIME("text/jinja2","jinja2")});
//# sourceMappingURL=jinja2.js.map
