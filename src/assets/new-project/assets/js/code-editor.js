function _createRecentProjectCard(projectName,fullPath,nodeId,tabIndex){let removeBtnDisableStyle="";return path.normalize(fullPath)===path.normalize(newProjectExtension.getWelcomeProjectPath())&&(removeBtnDisableStyle="display: none;"),$(`<li>\n        <a id="${nodeId}" href="#" \n        class="d-flex align-items-center justify-content-between tabable"\n        tabindex="${tabIndex}"\n        onclick="openProject('${fullPath}');_recentProjectMetric('open');">\n            <div class="project-name">\n                ${projectName}\n            </div>\n            <button class="remove-btn" onclick="removeProject('${fullPath}');_recentProjectMetric('remove');"\n            style="${removeBtnDisableStyle}">\n                <svg width="16" height="16" viewBox="0 0 14 14" fill="none"\n                     xmlns="http://www.w3.org/2000/svg">\n                    <path d="M1.75 3.5H2.91667H12.25" stroke="#D0D0D0" stroke-linecap="round"\n                          stroke-linejoin="round"/>\n                    <path d="M4.6665 3.50008V2.33341C4.6665 2.024 4.78942 1.72725 5.00821 1.50846C5.22701 1.28966 5.52375 1.16675 5.83317 1.16675H8.1665C8.47592 1.16675 8.77267 1.28966 8.99146 1.50846C9.21026 1.72725 9.33317 2.024 9.33317 2.33341V3.50008M11.0832 3.50008V11.6667C11.0832 11.9762 10.9603 12.2729 10.7415 12.4917C10.5227 12.7105 10.2259 12.8334 9.91651 12.8334H4.08317C3.77375 12.8334 3.47701 12.7105 3.25821 12.4917C3.03942 12.2729 2.9165 11.9762 2.9165 11.6667V3.50008H11.0832Z"\n                          stroke="#D0D0D0" stroke-linecap="round" stroke-linejoin="round"/>\n                    <path d="M5.8335 6.41675V9.91675" stroke="#D0D0D0" stroke-linecap="round"\n                          stroke-linejoin="round"/>\n                    <path d="M8.1665 6.41675V9.91675" stroke="#D0D0D0" stroke-linecap="round"\n                          stroke-linejoin="round"/>\n                </svg>\n            </button>\n        </a>\n    </li>`)}function _recentProjectMetric(type){Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT,"recentProject.btnClick",type)}function getDisplayName(projectPath){const prefixRemove=[newProjectExtension.getLocalProjectsPath(),newProjectExtension.getMountDir()];for(let prefix of prefixRemove)if(projectPath.startsWith(prefix))return projectPath.replace(prefix,"");return projectPath}const DEFAULT_PROJECT_PATH="/fs/local/default project";function _updateProjectCards(){let recentProjectList=$(document.getElementById("recentProjectList"));recentProjectList.empty();let recentProjects=recentProjectExtension.getRecentProjects(),tabIndex=20,defaultProjects=[DEFAULT_PROJECT_PATH,"/fs/local/explore"],omitProjectsInListing=["/fs/local/explore"],showRecentProjects=!1;for(let recentProject of recentProjects)defaultProjects.includes(recentProject)||(showRecentProjects=!0),omitProjectsInListing.includes(recentProject)||recentProjectList.append(_createRecentProjectCard(getDisplayName(recentProject),recentProject,`recent-prj-list-${tabIndex}`,tabIndex++));showRecentProjects||$("#recentProjectsContainer").addClass("forced-hidden")}function openProject(fullPath){recentProjectExtension.openProjectWithPath(fullPath).then(()=>{newProjectExtension.closeDialogue()}).catch(()=>{_updateProjectCards()})}function removeProject(fullPath){recentProjectExtension.removeFromRecentProject(fullPath),_updateProjectCards(),event.stopPropagation()}function _showFirstTimeExperience(){let shownBefore;localStorage.getItem("notification.defaultProject.Shown")||(createNotificationFromTemplate(Strings.DEFAULT_PROJECT_NOTIFICATION,"defaultProjectButton",{allowedPlacements:["left","right"],autoCloseTimeS:15,dismissOnClick:!0}),localStorage.setItem("notification.defaultProject.Shown","true"))}function initCodeEditor(){document.getElementById("openFolderBtn").onclick=function(){Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT,"main.Click","open-folder"),newProjectExtension.openFolder()},document.getElementById("viewMore").onclick=function(){Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT,"main.Click","viewMore"),window.location.href="new-project-more.html"},document.getElementById("newGitHubProject").onclick=function(){Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT,"main.Click","github-project"),window.location.href="new-project-github.html"},document.getElementById("exploreBtn").onclick=function(){Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT,"main.Click","games"),openProject(newProjectExtension.getExploreProjectPath())},document.getElementById("defaultProjectButton").onclick=function(){Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT,"main.Click","default-project"),openProject(newProjectExtension.getWelcomeProjectPath())},document.getElementById("newHTMLBtn").onclick=function(){Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT,"main.Click","html5"),newProjectFromURLScreen(getPhoenixAbsURL("assets/sample-projects/HTML5.zip"),"html project",Strings.NEW_HTML,{previewURL:`${getPhoenixAbsURL("assets/sample-projects/HTML5/index.html")}`})},_updateProjectCards(),_showFirstTimeExperience()}
//# sourceMappingURL=code-editor.js.map
