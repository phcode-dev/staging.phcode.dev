!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("./acorn")):"function"==typeof define&&define.amd?define(["exports","./acorn"],factory):factory(((global=global||self).acorn=global.acorn||{},global.acorn.loose={}),global.acorn)}(this,function(exports,acorn){"use strict";function noop(){}var LooseParser=function LooseParser(input,options){if(void 0===options&&(options={}),this.toks=this.constructor.BaseParser.tokenizer(input,options),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:acorn.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=noop,this.tok.validateRegExpPattern=noop,this.options.locations){var here=this.toks.curPosition();this.tok.loc=new acorn.SourceLocation(this.toks,here,here)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inFunction=!1};LooseParser.prototype.startNode=function startNode(){return new acorn.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},LooseParser.prototype.storeCurrentPos=function storeCurrentPos(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},LooseParser.prototype.startNodeAt=function startNodeAt(pos){return this.options.locations?new acorn.Node(this.toks,pos[0],pos[1]):new acorn.Node(this.toks,pos)},LooseParser.prototype.finishNode=function finishNode(node,type){return node.type=type,node.end=this.last.end,this.options.locations&&(node.loc.end=this.last.loc.end),this.options.ranges&&(node.range[1]=this.last.end),node},LooseParser.prototype.dummyNode=function dummyNode(type){var dummy=this.startNode();return dummy.type=type,dummy.end=dummy.start,this.options.locations&&(dummy.loc.end=dummy.loc.start),this.options.ranges&&(dummy.range[1]=dummy.start),this.last={type:acorn.tokTypes.name,start:dummy.start,end:dummy.start,loc:dummy.loc},dummy},LooseParser.prototype.dummyIdent=function dummyIdent(){var dummy=this.dummyNode("Identifier");return dummy.name="✖",dummy},LooseParser.prototype.dummyString=function dummyString(){var dummy=this.dummyNode("Literal");return dummy.value=dummy.raw="✖",dummy},LooseParser.prototype.eat=function eat(type){return this.tok.type===type&&(this.next(),!0)},LooseParser.prototype.isContextual=function isContextual(name){return this.tok.type===acorn.tokTypes.name&&this.tok.value===name},LooseParser.prototype.eatContextual=function eatContextual(name){return this.tok.value===name&&this.eat(acorn.tokTypes.name)},LooseParser.prototype.canInsertSemicolon=function canInsertSemicolon(){return this.tok.type===acorn.tokTypes.eof||this.tok.type===acorn.tokTypes.braceR||acorn.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},LooseParser.prototype.semicolon=function semicolon(){return this.eat(acorn.tokTypes.semi)},LooseParser.prototype.expect=function expect(type){if(this.eat(type))return!0;for(var i=1;i<=2;i++)if(this.lookAhead(i).type===type){for(var j=0;j<i;j++)this.next();return!0}},LooseParser.prototype.pushCx=function pushCx(){this.context.push(this.curIndent)},LooseParser.prototype.popCx=function popCx(){this.curIndent=this.context.pop()},LooseParser.prototype.lineEnd=function lineEnd(pos){for(;pos<this.input.length&&!acorn.isNewLine(this.input.charCodeAt(pos));)++pos;return pos},LooseParser.prototype.indentationAfter=function indentationAfter(pos){for(var count=0;;++pos){var ch=this.input.charCodeAt(pos);if(32===ch)++count;else{if(9!==ch)return count;count+=this.options.tabSize}}},LooseParser.prototype.closes=function closes(closeTok,indent,line,blockHeuristic){return this.tok.type===closeTok||this.tok.type===acorn.tokTypes.eof||line!==this.curLineStart&&this.curIndent<indent&&this.tokenStartsLine()&&(!blockHeuristic||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<indent)},LooseParser.prototype.tokenStartsLine=function tokenStartsLine(){for(var p=this.tok.start-1;p>=this.curLineStart;--p){var ch=this.input.charCodeAt(p);if(9!==ch&&32!==ch)return!1}return!0},LooseParser.prototype.extend=function extend(name,f){this[name]=f(this[name])},LooseParser.prototype.parse=function parse(){return this.next(),this.parseTopLevel()},LooseParser.extend=function extend(){for(var plugins=[],len=arguments.length;len--;)plugins[len]=arguments[len];for(var cls=this,i=0;i<plugins.length;i++)cls=plugins[i](cls);return cls},LooseParser.parse=function parse(input,options){return new this(input,options).parse()},LooseParser.BaseParser=acorn.Parser;var lp=LooseParser.prototype;function isSpace(ch){return ch<14&&ch>8||32===ch||160===ch||acorn.isNewLine(ch)}function isDummy(node){return"✖"===node.name}lp.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},lp.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===acorn.tokTypes.dot&&"."===this.input.substr(this.toks.end,1)&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=acorn.tokTypes.ellipsis),new acorn.Token(this.toks)}catch(e){if(!(e instanceof SyntaxError))throw e;var msg=e.message,pos=e.raisedAt,replace=!0;if(/unterminated/i.test(msg))if(pos=this.lineEnd(e.pos+1),/string/.test(msg))replace={start:e.pos,end:pos,type:acorn.tokTypes.string,value:this.input.slice(e.pos+1,pos)};else if(/regular expr/i.test(msg)){var re=this.input.slice(e.pos,pos);try{re=new RegExp(re)}catch(e){}replace={start:e.pos,end:pos,type:acorn.tokTypes.regexp,value:re}}else replace=!!/template/.test(msg)&&{start:e.pos,end:pos,type:acorn.tokTypes.template,value:this.input.slice(e.pos,pos)};else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(msg))for(;pos<this.input.length&&!isSpace(this.input.charCodeAt(pos));)++pos;else if(/character escape|expected hexadecimal/i.test(msg))for(;pos<this.input.length;){var ch=this.input.charCodeAt(pos++);if(34===ch||39===ch||acorn.isNewLine(ch))break}else if(/unexpected character/i.test(msg))pos++,replace=!1;else{if(!/regular expression/i.test(msg))throw e;replace=!0}if(this.resetTo(pos),!0===replace&&(replace={start:pos,end:pos,type:acorn.tokTypes.name,value:"✖"}),replace)return this.options.locations&&(replace.loc=new acorn.SourceLocation(this.toks,acorn.getLineInfo(this.input,replace.start),acorn.getLineInfo(this.input,replace.end))),replace}},lp.resetTo=function(pos){this.toks.pos=pos;var ch=this.input.charAt(pos-1),match;if(this.toks.exprAllowed=!ch||/[[{(,;:?/*=+\-~!|&%^<>]/.test(ch)||/[enwfd]/.test(ch)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(pos-10,pos)),this.options.locations)for(this.toks.curLine=1,this.toks.lineStart=acorn.lineBreakG.lastIndex=0;(match=acorn.lineBreakG.exec(this.input))&&match.index<pos;)++this.toks.curLine,this.toks.lineStart=match.index+match[0].length},lp.lookAhead=function(n){for(;n>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[n-1]};var lp$1=LooseParser.prototype;lp$1.parseTopLevel=function(){var node=this.startNodeAt(this.options.locations?[0,acorn.getLineInfo(this.input,0)]:0);for(node.body=[];this.tok.type!==acorn.tokTypes.eof;)node.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(node.body),this.last=this.tok,this.options.ecmaVersion>=6&&(node.sourceType=this.options.sourceType),this.finishNode(node,"Program")},lp$1.parseStatement=function(){var starttype=this.tok.type,node=this.startNode(),kind;switch(this.toks.isLet()&&(starttype=acorn.tokTypes._var,kind="let"),starttype){case acorn.tokTypes._break:case acorn.tokTypes._continue:this.next();var isBreak=starttype===acorn.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?node.label=null:(node.label=this.tok.type===acorn.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement");case acorn.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(node,"DebuggerStatement");case acorn.tokTypes._do:return this.next(),node.body=this.parseStatement(),node.test=this.eat(acorn.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(node,"DoWhileStatement");case acorn.tokTypes._for:this.next();var isAwait=this.options.ecmaVersion>=9&&this.inAsync&&this.eatContextual("await");if(this.pushCx(),this.expect(acorn.tokTypes.parenL),this.tok.type===acorn.tokTypes.semi)return this.parseFor(node,null);var isLet=this.toks.isLet();if(isLet||this.tok.type===acorn.tokTypes._var||this.tok.type===acorn.tokTypes._const){var init$1=this.parseVar(this.startNode(),!0,isLet?"let":this.tok.value);return 1!==init$1.declarations.length||this.tok.type!==acorn.tokTypes._in&&!this.isContextual("of")?this.parseFor(node,init$1):(this.options.ecmaVersion>=9&&this.tok.type!==acorn.tokTypes._in&&(node.await=isAwait),this.parseForIn(node,init$1))}var init=this.parseExpression(!0);return this.tok.type===acorn.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==acorn.tokTypes._in&&(node.await=isAwait),this.parseForIn(node,this.toAssignable(init))):this.parseFor(node,init);case acorn.tokTypes._function:return this.next(),this.parseFunction(node,!0);case acorn.tokTypes._if:return this.next(),node.test=this.parseParenExpression(),node.consequent=this.parseStatement(),node.alternate=this.eat(acorn.tokTypes._else)?this.parseStatement():null,this.finishNode(node,"IfStatement");case acorn.tokTypes._return:return this.next(),this.eat(acorn.tokTypes.semi)||this.canInsertSemicolon()?node.argument=null:(node.argument=this.parseExpression(),this.semicolon()),this.finishNode(node,"ReturnStatement");case acorn.tokTypes._switch:var blockIndent=this.curIndent,line=this.curLineStart,cur;for(this.next(),node.discriminant=this.parseParenExpression(),node.cases=[],this.pushCx(),this.expect(acorn.tokTypes.braceL);!this.closes(acorn.tokTypes.braceR,blockIndent,line,!0);)if(this.tok.type===acorn.tokTypes._case||this.tok.type===acorn.tokTypes._default){var isCase=this.tok.type===acorn.tokTypes._case;cur&&this.finishNode(cur,"SwitchCase"),node.cases.push(cur=this.startNode()),cur.consequent=[],this.next(),cur.test=isCase?this.parseExpression():null,this.expect(acorn.tokTypes.colon)}else cur||(node.cases.push(cur=this.startNode()),cur.consequent=[],cur.test=null),cur.consequent.push(this.parseStatement());return cur&&this.finishNode(cur,"SwitchCase"),this.popCx(),this.eat(acorn.tokTypes.braceR),this.finishNode(node,"SwitchStatement");case acorn.tokTypes._throw:return this.next(),node.argument=this.parseExpression(),this.semicolon(),this.finishNode(node,"ThrowStatement");case acorn.tokTypes._try:if(this.next(),node.block=this.parseBlock(),node.handler=null,this.tok.type===acorn.tokTypes._catch){var clause=this.startNode();this.next(),this.eat(acorn.tokTypes.parenL)?(clause.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(acorn.tokTypes.parenR)):clause.param=null,clause.body=this.parseBlock(),node.handler=this.finishNode(clause,"CatchClause")}return node.finalizer=this.eat(acorn.tokTypes._finally)?this.parseBlock():null,node.handler||node.finalizer?this.finishNode(node,"TryStatement"):node.block;case acorn.tokTypes._var:case acorn.tokTypes._const:return this.parseVar(node,!1,kind||this.tok.value);case acorn.tokTypes._while:return this.next(),node.test=this.parseParenExpression(),node.body=this.parseStatement(),this.finishNode(node,"WhileStatement");case acorn.tokTypes._with:return this.next(),node.object=this.parseParenExpression(),node.body=this.parseStatement(),this.finishNode(node,"WithStatement");case acorn.tokTypes.braceL:return this.parseBlock();case acorn.tokTypes.semi:return this.next(),this.finishNode(node,"EmptyStatement");case acorn.tokTypes._class:return this.parseClass(!0);case acorn.tokTypes._import:return this.options.ecmaVersion>10&&this.lookAhead(1).type===acorn.tokTypes.parenL?(node.expression=this.parseExpression(),this.semicolon(),this.finishNode(node,"ExpressionStatement")):this.parseImport();case acorn.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(node,!0,!0);var expr=this.parseExpression();return isDummy(expr)?(this.next(),this.tok.type===acorn.tokTypes.eof?this.finishNode(node,"EmptyStatement"):this.parseStatement()):starttype===acorn.tokTypes.name&&"Identifier"===expr.type&&this.eat(acorn.tokTypes.colon)?(node.body=this.parseStatement(),node.label=expr,this.finishNode(node,"LabeledStatement")):(node.expression=expr,this.semicolon(),this.finishNode(node,"ExpressionStatement"))}},lp$1.parseBlock=function(){var node=this.startNode();this.pushCx(),this.expect(acorn.tokTypes.braceL);var blockIndent=this.curIndent,line=this.curLineStart;for(node.body=[];!this.closes(acorn.tokTypes.braceR,blockIndent,line,!0);)node.body.push(this.parseStatement());return this.popCx(),this.eat(acorn.tokTypes.braceR),this.finishNode(node,"BlockStatement")},lp$1.parseFor=function(node,init){return node.init=init,node.test=node.update=null,this.eat(acorn.tokTypes.semi)&&this.tok.type!==acorn.tokTypes.semi&&(node.test=this.parseExpression()),this.eat(acorn.tokTypes.semi)&&this.tok.type!==acorn.tokTypes.parenR&&(node.update=this.parseExpression()),this.popCx(),this.expect(acorn.tokTypes.parenR),node.body=this.parseStatement(),this.finishNode(node,"ForStatement")},lp$1.parseForIn=function(node,init){var type=this.tok.type===acorn.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),node.left=init,node.right=this.parseExpression(),this.popCx(),this.expect(acorn.tokTypes.parenR),node.body=this.parseStatement(),this.finishNode(node,type)},lp$1.parseVar=function(node,noIn,kind){node.kind=kind,this.next(),node.declarations=[];do{var decl=this.startNode();decl.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),decl.init=this.eat(acorn.tokTypes.eq)?this.parseMaybeAssign(noIn):null,node.declarations.push(this.finishNode(decl,"VariableDeclarator"))}while(this.eat(acorn.tokTypes.comma));if(!node.declarations.length){var decl$1=this.startNode();decl$1.id=this.dummyIdent(),node.declarations.push(this.finishNode(decl$1,"VariableDeclarator"))}return noIn||this.semicolon(),this.finishNode(node,"VariableDeclaration")},lp$1.parseClass=function(isStatement){var node=this.startNode();this.next(),this.tok.type===acorn.tokTypes.name?node.id=this.parseIdent():node.id=!0===isStatement?this.dummyIdent():null,node.superClass=this.eat(acorn.tokTypes._extends)?this.parseExpression():null,node.body=this.startNode(),node.body.body=[],this.pushCx();var indent=this.curIndent+1,line=this.curLineStart;for(this.eat(acorn.tokTypes.braceL),this.curIndent+1<indent&&(indent=this.curIndent,line=this.curLineStart);!this.closes(acorn.tokTypes.braceR,indent,line);)if(!this.semicolon()){var method=this.startNode(),isGenerator=void 0,isAsync=void 0;this.options.ecmaVersion>=6&&(method.static=!1,isGenerator=this.eat(acorn.tokTypes.star)),this.parsePropertyName(method),isDummy(method.key)?(isDummy(this.parseMaybeAssign())&&this.next(),this.eat(acorn.tokTypes.comma)):("Identifier"!==method.key.type||method.computed||"static"!==method.key.name||this.tok.type===acorn.tokTypes.parenL||this.tok.type===acorn.tokTypes.braceL?method.static=!1:(method.static=!0,isGenerator=this.eat(acorn.tokTypes.star),this.parsePropertyName(method)),method.computed||"Identifier"!==method.key.type||"async"!==method.key.name||this.tok.type===acorn.tokTypes.parenL||this.canInsertSemicolon()?isAsync=!1:(isAsync=!0,isGenerator=this.options.ecmaVersion>=9&&this.eat(acorn.tokTypes.star),this.parsePropertyName(method)),this.options.ecmaVersion>=5&&"Identifier"===method.key.type&&!method.computed&&("get"===method.key.name||"set"===method.key.name)&&this.tok.type!==acorn.tokTypes.parenL&&this.tok.type!==acorn.tokTypes.braceL?(method.kind=method.key.name,this.parsePropertyName(method),method.value=this.parseMethod(!1)):(method.computed||method.static||isGenerator||isAsync||!("Identifier"===method.key.type&&"constructor"===method.key.name||"Literal"===method.key.type&&"constructor"===method.key.value)?method.kind="method":method.kind="constructor",method.value=this.parseMethod(isGenerator,isAsync)),node.body.body.push(this.finishNode(method,"MethodDefinition")))}return this.popCx(),this.eat(acorn.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(node.body,"ClassBody"),this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")},lp$1.parseFunction=function(node,isStatement,isAsync){var oldInAsync=this.inAsync,oldInFunction=this.inFunction;return this.initFunction(node),this.options.ecmaVersion>=6&&(node.generator=this.eat(acorn.tokTypes.star)),this.options.ecmaVersion>=8&&(node.async=!!isAsync),this.tok.type===acorn.tokTypes.name?node.id=this.parseIdent():!0===isStatement&&(node.id=this.dummyIdent()),this.inAsync=node.async,this.inFunction=!0,node.params=this.parseFunctionParams(),node.body=this.parseBlock(),this.toks.adaptDirectivePrologue(node.body.body),this.inAsync=oldInAsync,this.inFunction=oldInFunction,this.finishNode(node,isStatement?"FunctionDeclaration":"FunctionExpression")},lp$1.parseExport=function(){var node=this.startNode();if(this.next(),this.eat(acorn.tokTypes.star))return node.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.finishNode(node,"ExportAllDeclaration");if(this.eat(acorn.tokTypes._default)){var isAsync;if(this.tok.type===acorn.tokTypes._function||(isAsync=this.toks.isAsyncFunction())){var fNode=this.startNode();this.next(),isAsync&&this.next(),node.declaration=this.parseFunction(fNode,"nullableID",isAsync)}else this.tok.type===acorn.tokTypes._class?node.declaration=this.parseClass("nullableID"):(node.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(node,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(node.declaration=this.parseStatement(),node.specifiers=[],node.source=null):(node.declaration=null,node.specifiers=this.parseExportSpecifierList(),node.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(node,"ExportNamedDeclaration")},lp$1.parseImport=function(){var node=this.startNode(),elt;(this.next(),this.tok.type===acorn.tokTypes.string)?(node.specifiers=[],node.source=this.parseExprAtom()):(this.tok.type===acorn.tokTypes.name&&"from"!==this.tok.value&&((elt=this.startNode()).local=this.parseIdent(),this.finishNode(elt,"ImportDefaultSpecifier"),this.eat(acorn.tokTypes.comma)),node.specifiers=this.parseImportSpecifiers(),node.source=this.eatContextual("from")&&this.tok.type===acorn.tokTypes.string?this.parseExprAtom():this.dummyString(),elt&&node.specifiers.unshift(elt));return this.semicolon(),this.finishNode(node,"ImportDeclaration")},lp$1.parseImportSpecifiers=function(){var elts=[];if(this.tok.type===acorn.tokTypes.star){var elt=this.startNode();this.next(),elt.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),elts.push(this.finishNode(elt,"ImportNamespaceSpecifier"))}else{var indent=this.curIndent,line=this.curLineStart,continuedLine=this.nextLineStart;for(this.pushCx(),this.eat(acorn.tokTypes.braceL),this.curLineStart>continuedLine&&(continuedLine=this.curLineStart);!this.closes(acorn.tokTypes.braceR,indent+(this.curLineStart<=continuedLine?1:0),line);){var elt$1=this.startNode();if(this.eat(acorn.tokTypes.star))elt$1.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),this.finishNode(elt$1,"ImportNamespaceSpecifier");else{if(this.isContextual("from"))break;if(elt$1.imported=this.parseIdent(),isDummy(elt$1.imported))break;elt$1.local=this.eatContextual("as")?this.parseIdent():elt$1.imported,this.finishNode(elt$1,"ImportSpecifier")}elts.push(elt$1),this.eat(acorn.tokTypes.comma)}this.eat(acorn.tokTypes.braceR),this.popCx()}return elts},lp$1.parseExportSpecifierList=function(){var elts=[],indent=this.curIndent,line=this.curLineStart,continuedLine=this.nextLineStart;for(this.pushCx(),this.eat(acorn.tokTypes.braceL),this.curLineStart>continuedLine&&(continuedLine=this.curLineStart);!this.closes(acorn.tokTypes.braceR,indent+(this.curLineStart<=continuedLine?1:0),line)&&!this.isContextual("from");){var elt=this.startNode();if(elt.local=this.parseIdent(),isDummy(elt.local))break;elt.exported=this.eatContextual("as")?this.parseIdent():elt.local,this.finishNode(elt,"ExportSpecifier"),elts.push(elt),this.eat(acorn.tokTypes.comma)}return this.eat(acorn.tokTypes.braceR),this.popCx(),elts};var lp$2=LooseParser.prototype;function parse(input,options){return LooseParser.parse(input,options)}lp$2.checkLVal=function(expr){if(!expr)return expr;switch(expr.type){case"Identifier":case"MemberExpression":return expr;case"ParenthesizedExpression":return expr.expression=this.checkLVal(expr.expression),expr;default:return this.dummyIdent()}},lp$2.parseExpression=function(noIn){var start=this.storeCurrentPos(),expr=this.parseMaybeAssign(noIn);if(this.tok.type===acorn.tokTypes.comma){var node=this.startNodeAt(start);for(node.expressions=[expr];this.eat(acorn.tokTypes.comma);)node.expressions.push(this.parseMaybeAssign(noIn));return this.finishNode(node,"SequenceExpression")}return expr},lp$2.parseParenExpression=function(){this.pushCx(),this.expect(acorn.tokTypes.parenL);var val=this.parseExpression();return this.popCx(),this.expect(acorn.tokTypes.parenR),val},lp$2.parseMaybeAssign=function(noIn){if(this.toks.isContextual("yield")){var node=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==acorn.tokTypes.star&&!this.tok.type.startsExpr?(node.delegate=!1,node.argument=null):(node.delegate=this.eat(acorn.tokTypes.star),node.argument=this.parseMaybeAssign()),this.finishNode(node,"YieldExpression")}var start=this.storeCurrentPos(),left=this.parseMaybeConditional(noIn);if(this.tok.type.isAssign){var node$1=this.startNodeAt(start);return node$1.operator=this.tok.value,node$1.left=this.tok.type===acorn.tokTypes.eq?this.toAssignable(left):this.checkLVal(left),this.next(),node$1.right=this.parseMaybeAssign(noIn),this.finishNode(node$1,"AssignmentExpression")}return left},lp$2.parseMaybeConditional=function(noIn){var start=this.storeCurrentPos(),expr=this.parseExprOps(noIn);if(this.eat(acorn.tokTypes.question)){var node=this.startNodeAt(start);return node.test=expr,node.consequent=this.parseMaybeAssign(),node.alternate=this.expect(acorn.tokTypes.colon)?this.parseMaybeAssign(noIn):this.dummyIdent(),this.finishNode(node,"ConditionalExpression")}return expr},lp$2.parseExprOps=function(noIn){var start=this.storeCurrentPos(),indent=this.curIndent,line=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),start,-1,noIn,indent,line)},lp$2.parseExprOp=function(left,start,minPrec,noIn,indent,line){if(this.curLineStart!==line&&this.curIndent<indent&&this.tokenStartsLine())return left;var prec=this.tok.type.binop;if(null!=prec&&(!noIn||this.tok.type!==acorn.tokTypes._in)&&prec>minPrec){var node=this.startNodeAt(start);if(node.left=left,node.operator=this.tok.value,this.next(),this.curLineStart!==line&&this.curIndent<indent&&this.tokenStartsLine())node.right=this.dummyIdent();else{var rightStart=this.storeCurrentPos();node.right=this.parseExprOp(this.parseMaybeUnary(!1),rightStart,prec,noIn,indent,line)}return this.finishNode(node,/&&|\|\|/.test(node.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(node,start,minPrec,noIn,indent,line)}return left},lp$2.parseMaybeUnary=function(sawUnary){var start=this.storeCurrentPos(),expr;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))expr=this.parseAwait(),sawUnary=!0;else if(this.tok.type.prefix){var node=this.startNode(),update=this.tok.type===acorn.tokTypes.incDec;update||(sawUnary=!0),node.operator=this.tok.value,node.prefix=!0,this.next(),node.argument=this.parseMaybeUnary(!0),update&&(node.argument=this.checkLVal(node.argument)),expr=this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===acorn.tokTypes.ellipsis){var node$1=this.startNode();this.next(),node$1.argument=this.parseMaybeUnary(sawUnary),expr=this.finishNode(node$1,"SpreadElement")}else for(expr=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var node$2=this.startNodeAt(start);node$2.operator=this.tok.value,node$2.prefix=!1,node$2.argument=this.checkLVal(expr),this.next(),expr=this.finishNode(node$2,"UpdateExpression")}if(!sawUnary&&this.eat(acorn.tokTypes.starstar)){var node$3=this.startNodeAt(start);return node$3.operator="**",node$3.left=expr,node$3.right=this.parseMaybeUnary(!1),this.finishNode(node$3,"BinaryExpression")}return expr},lp$2.parseExprSubscripts=function(){var start=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),start,!1,this.curIndent,this.curLineStart)},lp$2.parseSubscripts=function(base,start,noCalls,startIndent,line){for(;;){if(this.curLineStart!==line&&this.curIndent<=startIndent&&this.tokenStartsLine()){if(this.tok.type!==acorn.tokTypes.dot||this.curIndent!==startIndent)return base;--startIndent}var maybeAsyncArrow="Identifier"===base.type&&"async"===base.name&&!this.canInsertSemicolon();if(this.eat(acorn.tokTypes.dot)){var node=this.startNodeAt(start);node.object=base,this.curLineStart!==line&&this.curIndent<=startIndent&&this.tokenStartsLine()?node.property=this.dummyIdent():node.property=this.parsePropertyAccessor()||this.dummyIdent(),node.computed=!1,base=this.finishNode(node,"MemberExpression")}else if(this.tok.type===acorn.tokTypes.bracketL){this.pushCx(),this.next();var node$1=this.startNodeAt(start);node$1.object=base,node$1.property=this.parseExpression(),node$1.computed=!0,this.popCx(),this.expect(acorn.tokTypes.bracketR),base=this.finishNode(node$1,"MemberExpression")}else if(noCalls||this.tok.type!==acorn.tokTypes.parenL){if(this.tok.type!==acorn.tokTypes.backQuote)return base;var node$3=this.startNodeAt(start);node$3.tag=base,node$3.quasi=this.parseTemplate(),base=this.finishNode(node$3,"TaggedTemplateExpression")}else{var exprList=this.parseExprList(acorn.tokTypes.parenR);if(maybeAsyncArrow&&this.eat(acorn.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(start),exprList,!0);var node$2=this.startNodeAt(start);node$2.callee=base,node$2.arguments=exprList,base=this.finishNode(node$2,"CallExpression")}}},lp$2.parseExprAtom=function(){var node;switch(this.tok.type){case acorn.tokTypes._this:case acorn.tokTypes._super:var type=this.tok.type===acorn.tokTypes._this?"ThisExpression":"Super";return node=this.startNode(),this.next(),this.finishNode(node,type);case acorn.tokTypes.name:var start=this.storeCurrentPos(),id=this.parseIdent(),isAsync=!1;if("async"===id.name&&!this.canInsertSemicolon()){if(this.eat(acorn.tokTypes._function))return this.parseFunction(this.startNodeAt(start),!1,!0);this.tok.type===acorn.tokTypes.name&&(id=this.parseIdent(),isAsync=!0)}return this.eat(acorn.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(start),[id],isAsync):id;case acorn.tokTypes.regexp:node=this.startNode();var val=this.tok.value;return node.regex={pattern:val.pattern,flags:val.flags},node.value=val.value,node.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(node,"Literal");case acorn.tokTypes.num:case acorn.tokTypes.string:return(node=this.startNode()).value=this.tok.value,node.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===acorn.tokTypes.num&&110===node.raw.charCodeAt(node.raw.length-1)&&(node.bigint=node.raw.slice(0,-1)),this.next(),this.finishNode(node,"Literal");case acorn.tokTypes._null:case acorn.tokTypes._true:case acorn.tokTypes._false:return(node=this.startNode()).value=this.tok.type===acorn.tokTypes._null?null:this.tok.type===acorn.tokTypes._true,node.raw=this.tok.type.keyword,this.next(),this.finishNode(node,"Literal");case acorn.tokTypes.parenL:var parenStart=this.storeCurrentPos();this.next();var inner=this.parseExpression();if(this.expect(acorn.tokTypes.parenR),this.eat(acorn.tokTypes.arrow)){var params=inner.expressions||[inner];return params.length&&isDummy(params[params.length-1])&&params.pop(),this.parseArrowExpression(this.startNodeAt(parenStart),params)}if(this.options.preserveParens){var par=this.startNodeAt(parenStart);par.expression=inner,inner=this.finishNode(par,"ParenthesizedExpression")}return inner;case acorn.tokTypes.bracketL:return(node=this.startNode()).elements=this.parseExprList(acorn.tokTypes.bracketR,!0),this.finishNode(node,"ArrayExpression");case acorn.tokTypes.braceL:return this.parseObj();case acorn.tokTypes._class:return this.parseClass(!1);case acorn.tokTypes._function:return node=this.startNode(),this.next(),this.parseFunction(node,!1);case acorn.tokTypes._new:return this.parseNew();case acorn.tokTypes.backQuote:return this.parseTemplate();case acorn.tokTypes._import:return this.options.ecmaVersion>10?this.parseDynamicImport():this.dummyIdent();default:return this.dummyIdent()}},lp$2.parseDynamicImport=function(){var node=this.startNode();return this.next(),this.finishNode(node,"Import")},lp$2.parseNew=function(){var node=this.startNode(),startIndent=this.curIndent,line=this.curLineStart,meta=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(acorn.tokTypes.dot))return node.meta=meta,node.property=this.parseIdent(!0),this.finishNode(node,"MetaProperty");var start=this.storeCurrentPos();return node.callee=this.parseSubscripts(this.parseExprAtom(),start,!0,startIndent,line),this.tok.type===acorn.tokTypes.parenL?node.arguments=this.parseExprList(acorn.tokTypes.parenR):node.arguments=[],this.finishNode(node,"NewExpression")},lp$2.parseTemplateElement=function(){var elem=this.startNode();return this.tok.type===acorn.tokTypes.invalidTemplate?elem.value={raw:this.tok.value,cooked:null}:elem.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value},this.next(),elem.tail=this.tok.type===acorn.tokTypes.backQuote,this.finishNode(elem,"TemplateElement")},lp$2.parseTemplate=function(){var node=this.startNode();this.next(),node.expressions=[];var curElt=this.parseTemplateElement();for(node.quasis=[curElt];!curElt.tail;)this.next(),node.expressions.push(this.parseExpression()),this.expect(acorn.tokTypes.braceR)?curElt=this.parseTemplateElement():((curElt=this.startNode()).value={cooked:"",raw:""},curElt.tail=!0,this.finishNode(curElt,"TemplateElement")),node.quasis.push(curElt);return this.expect(acorn.tokTypes.backQuote),this.finishNode(node,"TemplateLiteral")},lp$2.parseObj=function(){var node=this.startNode();node.properties=[],this.pushCx();var indent=this.curIndent+1,line=this.curLineStart;for(this.eat(acorn.tokTypes.braceL),this.curIndent+1<indent&&(indent=this.curIndent,line=this.curLineStart);!this.closes(acorn.tokTypes.braceR,indent,line);){var prop=this.startNode(),isGenerator=void 0,isAsync=void 0,start=void 0;if(this.options.ecmaVersion>=9&&this.eat(acorn.tokTypes.ellipsis))prop.argument=this.parseMaybeAssign(),node.properties.push(this.finishNode(prop,"SpreadElement")),this.eat(acorn.tokTypes.comma);else if(this.options.ecmaVersion>=6&&(start=this.storeCurrentPos(),prop.method=!1,prop.shorthand=!1,isGenerator=this.eat(acorn.tokTypes.star)),this.parsePropertyName(prop),this.toks.isAsyncProp(prop)?(isAsync=!0,isGenerator=this.options.ecmaVersion>=9&&this.eat(acorn.tokTypes.star),this.parsePropertyName(prop)):isAsync=!1,isDummy(prop.key))isDummy(this.parseMaybeAssign())&&this.next(),this.eat(acorn.tokTypes.comma);else{if(this.eat(acorn.tokTypes.colon))prop.kind="init",prop.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===acorn.tokTypes.parenL||this.tok.type===acorn.tokTypes.braceL))prop.kind="init",prop.method=!0,prop.value=this.parseMethod(isGenerator,isAsync);else if(this.options.ecmaVersion>=5&&"Identifier"===prop.key.type&&!prop.computed&&("get"===prop.key.name||"set"===prop.key.name)&&this.tok.type!==acorn.tokTypes.comma&&this.tok.type!==acorn.tokTypes.braceR&&this.tok.type!==acorn.tokTypes.eq)prop.kind=prop.key.name,this.parsePropertyName(prop),prop.value=this.parseMethod(!1);else{if(prop.kind="init",this.options.ecmaVersion>=6)if(this.eat(acorn.tokTypes.eq)){var assign=this.startNodeAt(start);assign.operator="=",assign.left=prop.key,assign.right=this.parseMaybeAssign(),prop.value=this.finishNode(assign,"AssignmentExpression")}else prop.value=prop.key;else prop.value=this.dummyIdent();prop.shorthand=!0}node.properties.push(this.finishNode(prop,"Property")),this.eat(acorn.tokTypes.comma)}}return this.popCx(),this.eat(acorn.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(node,"ObjectExpression")},lp$2.parsePropertyName=function(prop){if(this.options.ecmaVersion>=6){if(this.eat(acorn.tokTypes.bracketL))return prop.computed=!0,prop.key=this.parseExpression(),void this.expect(acorn.tokTypes.bracketR);prop.computed=!1}var key=this.tok.type===acorn.tokTypes.num||this.tok.type===acorn.tokTypes.string?this.parseExprAtom():this.parseIdent();prop.key=key||this.dummyIdent()},lp$2.parsePropertyAccessor=function(){if(this.tok.type===acorn.tokTypes.name||this.tok.type.keyword)return this.parseIdent()},lp$2.parseIdent=function(){var name=this.tok.type===acorn.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!name)return this.dummyIdent();var node=this.startNode();return this.next(),node.name=name,this.finishNode(node,"Identifier")},lp$2.initFunction=function(node){node.id=null,node.params=[],this.options.ecmaVersion>=6&&(node.generator=!1,node.expression=!1),this.options.ecmaVersion>=8&&(node.async=!1)},lp$2.toAssignable=function(node,binding){if(!node||"Identifier"===node.type||"MemberExpression"===node.type&&!binding);else if("ParenthesizedExpression"===node.type)this.toAssignable(node.expression,binding);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if("ObjectExpression"===node.type){node.type="ObjectPattern";for(var i=0,list=node.properties;i<list.length;i+=1){var prop=list[i];this.toAssignable(prop,binding)}}else if("ArrayExpression"===node.type)node.type="ArrayPattern",this.toAssignableList(node.elements,binding);else if("Property"===node.type)this.toAssignable(node.value,binding);else if("SpreadElement"===node.type)node.type="RestElement",this.toAssignable(node.argument,binding);else{if("AssignmentExpression"!==node.type)return this.dummyIdent();node.type="AssignmentPattern",delete node.operator}}return node},lp$2.toAssignableList=function(exprList,binding){for(var i=0,list=exprList;i<list.length;i+=1){var expr=list[i];this.toAssignable(expr,binding)}return exprList},lp$2.parseFunctionParams=function(params){return params=this.parseExprList(acorn.tokTypes.parenR),this.toAssignableList(params,!0)},lp$2.parseMethod=function(isGenerator,isAsync){var node=this.startNode(),oldInAsync=this.inAsync,oldInFunction=this.inFunction;return this.initFunction(node),this.options.ecmaVersion>=6&&(node.generator=!!isGenerator),this.options.ecmaVersion>=8&&(node.async=!!isAsync),this.inAsync=node.async,this.inFunction=!0,node.params=this.parseFunctionParams(),node.body=this.parseBlock(),this.toks.adaptDirectivePrologue(node.body.body),this.inAsync=oldInAsync,this.inFunction=oldInFunction,this.finishNode(node,"FunctionExpression")},lp$2.parseArrowExpression=function(node,params,isAsync){var oldInAsync=this.inAsync,oldInFunction=this.inFunction;return this.initFunction(node),this.options.ecmaVersion>=8&&(node.async=!!isAsync),this.inAsync=node.async,this.inFunction=!0,node.params=this.toAssignableList(params,!0),node.expression=this.tok.type!==acorn.tokTypes.braceL,node.expression?node.body=this.parseMaybeAssign():(node.body=this.parseBlock(),this.toks.adaptDirectivePrologue(node.body.body)),this.inAsync=oldInAsync,this.inFunction=oldInFunction,this.finishNode(node,"ArrowFunctionExpression")},lp$2.parseExprList=function(close,allowEmpty){this.pushCx();var indent=this.curIndent,line=this.curLineStart,elts=[];for(this.next();!this.closes(close,indent+1,line);)if(this.eat(acorn.tokTypes.comma))elts.push(allowEmpty?null:this.dummyIdent());else{var elt=this.parseMaybeAssign();if(isDummy(elt)){if(this.closes(close,indent,line))break;this.next()}else elts.push(elt);this.eat(acorn.tokTypes.comma)}return this.popCx(),this.eat(close)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),elts},lp$2.parseAwait=function(){var node=this.startNode();return this.next(),node.argument=this.parseMaybeUnary(),this.finishNode(node,"AwaitExpression")},acorn.defaultOptions.tabSize=4,exports.LooseParser=LooseParser,exports.parse=parse,Object.defineProperty(exports,"__esModule",{value:!0})});
//# sourceMappingURL=acorn_loose.js.map
