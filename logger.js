import AppConfig from"./loggerConfig.js";function swallowLogs(){}const savedLoggingFn=console.log,savedInfoFn=console.info;function onError(event){let reportedStatus=window.loggingOptions.healthDataDisabled?"Not Reported as health data disabled.":"Reported";if(console.error(`Caught Critical error, ${reportedStatus}: `,event),window.Metrics&&window.Metrics.countEvent(window.Metrics.EVENT_TYPE.ERROR,"uncaught","logger"),window.loggingOptions.healthDataDisabled)return!1}window.setupLogging=function(){const urlParams=new URLSearchParams(window.location.search),logToConsoleOverride=urlParams.get("logToConsole"),logToConsolePref=localStorage.getItem("logToConsole");return window.testEnvironment="true"===urlParams.get("testEnvironment"),logToConsoleOverride&&"true"===logToConsoleOverride.toLowerCase()||logToConsolePref&&"true"===logToConsolePref.toLowerCase()&&!logToConsoleOverride?(console.log=savedLoggingFn,console.info=savedInfoFn,window.logToConsolePref="true",window.debugMode=!0,!0):(console.info=console.log=swallowLogs,window.logToConsolePref="false",window.debugMode=!1,!1)},window.isLoggingEnabled=function(key){let loggingEnabled;return"true"===(localStorage.getItem(key)||"false").toLowerCase()},window.toggleLoggingKey=function(key){window.isLoggingEnabled(key)?localStorage.setItem(key,"false"):localStorage.setItem(key,"true")},window.loggingOptions={LOCAL_STORAGE_KEYS:{LOG_LIVE_PREVIEW:"logLivePreview"},livePreview:{log:function(...args){window.loggingOptions.logLivePreview&&console.log(...args)}},healthDataDisabled:!1,reportError:function(error){Bugsnag.notify(error)}},window.loggingOptions.logLivePreview=window.isLoggingEnabled(window.loggingOptions.LOCAL_STORAGE_KEYS.LOG_LIVE_PREVIEW),window.setupLogging();const isTestWindow=new window.URLSearchParams(window.location.search||"").get("testEnvironment");isTestWindow||Bugsnag.start({apiKey:"a899c29d251bfdf30c3222016a2a7ea7",appType:window.__TAURI__?"tauri":"browser",collectUserIp:!1,appVersion:AppConfig.version,enabledReleaseStages:["development","production","staging"],releaseStage:AppConfig.config.bugsnagEnv,enabledBreadcrumbTypes:[],maxEvents:10,onError:onError});
//# sourceMappingURL=logger.js.map
