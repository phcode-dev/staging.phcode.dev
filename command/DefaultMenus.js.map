{"version":3,"sources":["command/DefaultMenus.js"],"names":["define","require","exports","module","AppInit","Commands","Menus","Strings","MainViewManager","CommandManager","_setContextMenuItemsVisible","enabled","items","forEach","item","get","setEnabled","_setMenuItemsVisible","file","getCurrentlyViewedFile","ACTIVE_PANE","exists","err","isPresent","FILE_RENAME","NAVIGATE_SHOW_IN_FILE_TREE","htmlReady","menu","addMenu","FILE_MENU","AppMenuBar","addMenuItem","FILE_NEW","FILE_NEW_FOLDER","FILE_OPEN_FOLDER","FILE_CLOSE","FILE_CLOSE_ALL","addMenuDivider","FILE_SAVE","FILE_SAVE_ALL","FILE_DOWNLOAD_PROJECT","undefined","hideWhenCommandDisabled","FILE_EXTENSION_MANAGER","EDIT_MENU","EDIT_UNDO","EDIT_REDO","EDIT_CUT","EDIT_COPY","window","Phoenix","browser","isTauri","desktop","isFirefox","EDIT_PASTE","EDIT_SELECT_ALL","EDIT_SELECT_LINE","EDIT_SPLIT_SEL_INTO_LINES","EDIT_ADD_CUR_TO_PREV_LINE","EDIT_ADD_CUR_TO_NEXT_LINE","EDIT_INDENT","EDIT_UNINDENT","EDIT_DUPLICATE","EDIT_DELETE_LINES","EDIT_LINE_UP","EDIT_LINE_DOWN","EDIT_LINE_COMMENT","EDIT_BLOCK_COMMENT","SHOW_CODE_HINTS","TOGGLE_CLOSE_BRACKETS","FIND_MENU","CMD_FIND","CMD_FIND_NEXT","CMD_FIND_PREVIOUS","CMD_FIND_ALL_AND_SELECT","CMD_ADD_NEXT_MATCH","CMD_SKIP_CURRENT_MATCH","CMD_FIND_IN_FILES","CMD_FIND_ALL_REFERENCES","CMD_REPLACE","CMD_REPLACE_IN_FILES","VIEW_MENU","CMD_THEMES_OPEN_SETTINGS","CMD_SPLITVIEW_NONE","CMD_SPLITVIEW_VERTICAL","CMD_SPLITVIEW_HORIZONTAL","VIEW_HIDE_SIDEBAR","TOGGLE_SEARCH_AUTOHIDE","VIEW_INCREASE_FONT_SIZE","VIEW_DECREASE_FONT_SIZE","VIEW_RESTORE_FONT_SIZE","TOGGLE_ACTIVE_LINE","TOGGLE_LINE_NUMBERS","TOGGLE_WORD_WRAP","FILE_LIVE_HIGHLIGHT","VIEW_TOGGLE_INSPECTION","NAVIGATE_MENU","NAVIGATE_QUICK_OPEN","NAVIGATE_GOTO_LINE","NAVIGATE_GOTO_DEFINITION","NAVIGATE_GOTO_DEFINITION_PROJECT","NAVIGATE_JUMPTO_DEFINITION","NAVIGATE_GOTO_FIRST_PROBLEM","NAVIGATE_NEXT_DOC","NAVIGATE_PREV_DOC","NAVIGATE_NEXT_DOC_LIST_ORDER","NAVIGATE_PREV_DOC_LIST_ORDER","TOGGLE_QUICK_EDIT","QUICK_EDIT_PREV_MATCH","QUICK_EDIT_NEXT_MATCH","CSS_QUICK_EDIT_NEW_RULE","TOGGLE_QUICK_DOCS","HELP_MENU","brackets","config","support_url","HELP_SUPPORT","suggest_feature_url","HELP_SUGGEST","get_involved_url","HELP_GET_INVOLVED","hasAboutItem","homepage_url","HELP_HOMEPAGE","twitter_url","HELP_TWITTER","HELP_ABOUT","workingset_cmenu","registerContextMenu","ContextMenuIds","WORKING_SET_CONTEXT_MENU","FILE_SAVE_AS","CMD_FIND_IN_SUBTREE","CMD_REPLACE_IN_SUBTREE","splitview_menu","SPLITVIEW_MENU","CMD_WORKINGSET_SORT_BY_ADDED","CMD_WORKINGSET_SORT_BY_NAME","CMD_WORKINGSET_SORT_BY_TYPE","CMD_WORKING_SORT_TOGGLE_AUTO","FILE_SHOW_FOLDERS_FIRST","project_cmenu","PROJECT_MENU","FILE_CUT","FILE_COPY","FILE_COPY_PATH","FILE_PASTE","FILE_DUPLICATE","FILE_DOWNLOAD","FILE_DELETE","FILE_REFRESH","editor_cmenu","EDITOR_MENU","inline_editor_cmenu","INLINE_EDITOR_MENU","$","on","e","EditorManager","target","parents","length","editor","getFocusedEditor","inlineWidget","getFocusedInlineWidget","open","ContextMenu","assignContextMenuToSelector","contextmenu","preventDefault","document","this","siblings","removeClass","addClass","getContextMenu"],"mappings":"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","sourcesContent":["/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n * Original work Copyright (c) 2013 - 2021 Adobe Systems Incorporated. All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it\n * under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License\n * for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n/**\n * Initializes the default brackets menu items.\n */\ndefine(function (require, exports, module) {\n\n\n    var AppInit         = require(\"utils/AppInit\"),\n        Commands        = require(\"command/Commands\"),\n        Menus           = require(\"command/Menus\"),\n        Strings         = require(\"strings\"),\n        MainViewManager = require(\"view/MainViewManager\"),\n        CommandManager  = require(\"command/CommandManager\");\n\n    /**\n     * Disables menu items present in items if enabled is true.\n     * enabled is true if file is saved and present on user system.\n     * @param {boolean} enabled\n     * @param {array} items\n     */\n    function _setContextMenuItemsVisible(enabled, items) {\n        items.forEach(function (item) {\n            CommandManager.get(item).setEnabled(enabled);\n        });\n    }\n\n    /**\n     * Checks if file saved and present on system and\n     * disables menu items accordingly\n     */\n    function _setMenuItemsVisible() {\n        var file = MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE);\n        if (file) {\n            file.exists(function (err, isPresent) {\n                if (err) {\n                    return err;\n                }\n                _setContextMenuItemsVisible(isPresent, [Commands.FILE_RENAME, Commands.NAVIGATE_SHOW_IN_FILE_TREE]);\n            });\n        }\n    }\n\n    AppInit.htmlReady(function () {\n        /*\n         * File menu\n         */\n        var menu;\n        menu = Menus.addMenu(Strings.FILE_MENU, Menus.AppMenuBar.FILE_MENU);\n        menu.addMenuItem(Commands.FILE_NEW);\n        menu.addMenuItem(Commands.FILE_NEW_FOLDER);\n        menu.addMenuItem(Commands.FILE_OPEN_FOLDER);\n        menu.addMenuItem(Commands.FILE_CLOSE);\n        menu.addMenuItem(Commands.FILE_CLOSE_ALL);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.FILE_SAVE);\n        menu.addMenuItem(Commands.FILE_SAVE_ALL);\n        menu.addMenuItem(Commands.FILE_DOWNLOAD_PROJECT, undefined, undefined, undefined, {\n            hideWhenCommandDisabled: true\n        });\n        // menu.addMenuItem(Commands.FILE_SAVE_AS); not yet available in phoenix\n        // menu.addMenuItem(Commands.FILE_PROJECT_SETTINGS); not yet available in phoenix\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.FILE_EXTENSION_MANAGER);\n\n        /*\n         * Edit  menu\n         */\n        menu = Menus.addMenu(Strings.EDIT_MENU, Menus.AppMenuBar.EDIT_MENU);\n        menu.addMenuItem(Commands.EDIT_UNDO);\n        menu.addMenuItem(Commands.EDIT_REDO);\n        menu.addMenuDivider();\n\n        // TODO: add js handlers for copy and paste using browser standards.\n        menu.addMenuItem(Commands.EDIT_CUT);\n        menu.addMenuItem(Commands.EDIT_COPY);\n        if(window.Phoenix.browser.isTauri || !window.Phoenix.browser.desktop.isFirefox){\n            menu.addMenuItem(Commands.EDIT_PASTE);\n        }\n        menu.addMenuDivider();\n\n        menu.addMenuItem(Commands.EDIT_SELECT_ALL);\n        menu.addMenuItem(Commands.EDIT_SELECT_LINE);\n        menu.addMenuItem(Commands.EDIT_SPLIT_SEL_INTO_LINES);\n        menu.addMenuItem(Commands.EDIT_ADD_CUR_TO_PREV_LINE);\n        menu.addMenuItem(Commands.EDIT_ADD_CUR_TO_NEXT_LINE);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.EDIT_INDENT);\n        menu.addMenuItem(Commands.EDIT_UNINDENT);\n        menu.addMenuItem(Commands.EDIT_DUPLICATE);\n        menu.addMenuItem(Commands.EDIT_DELETE_LINES);\n        menu.addMenuItem(Commands.EDIT_LINE_UP);\n        menu.addMenuItem(Commands.EDIT_LINE_DOWN);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.EDIT_LINE_COMMENT);\n        menu.addMenuItem(Commands.EDIT_BLOCK_COMMENT);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.SHOW_CODE_HINTS);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.TOGGLE_CLOSE_BRACKETS);\n\n        /*\n         * Find menu\n         */\n        menu = Menus.addMenu(Strings.FIND_MENU, Menus.AppMenuBar.FIND_MENU);\n        menu.addMenuItem(Commands.CMD_FIND);\n        menu.addMenuItem(Commands.CMD_FIND_NEXT);\n        menu.addMenuItem(Commands.CMD_FIND_PREVIOUS);\n        menu.addMenuItem(Commands.CMD_FIND_ALL_AND_SELECT);\n        menu.addMenuItem(Commands.CMD_ADD_NEXT_MATCH);\n        menu.addMenuItem(Commands.CMD_SKIP_CURRENT_MATCH);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.CMD_FIND_IN_FILES);\n        menu.addMenuItem(Commands.CMD_FIND_ALL_REFERENCES);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.CMD_REPLACE);\n        menu.addMenuItem(Commands.CMD_REPLACE_IN_FILES);\n\n        /*\n         * View menu\n         */\n        menu = Menus.addMenu(Strings.VIEW_MENU, Menus.AppMenuBar.VIEW_MENU);\n        menu.addMenuItem(Commands.CMD_THEMES_OPEN_SETTINGS);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.CMD_SPLITVIEW_NONE);\n        menu.addMenuItem(Commands.CMD_SPLITVIEW_VERTICAL);\n        menu.addMenuItem(Commands.CMD_SPLITVIEW_HORIZONTAL);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.VIEW_HIDE_SIDEBAR);\n        menu.addMenuItem(Commands.TOGGLE_SEARCH_AUTOHIDE);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.VIEW_INCREASE_FONT_SIZE);\n        menu.addMenuItem(Commands.VIEW_DECREASE_FONT_SIZE);\n        menu.addMenuItem(Commands.VIEW_RESTORE_FONT_SIZE);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.TOGGLE_ACTIVE_LINE);\n        menu.addMenuItem(Commands.TOGGLE_LINE_NUMBERS);\n        menu.addMenuItem(Commands.TOGGLE_WORD_WRAP);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.FILE_LIVE_HIGHLIGHT);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.VIEW_TOGGLE_INSPECTION);\n\n        /*\n         * Navigate menu\n         */\n        menu = Menus.addMenu(Strings.NAVIGATE_MENU, Menus.AppMenuBar.NAVIGATE_MENU);\n        menu.addMenuItem(Commands.NAVIGATE_QUICK_OPEN);\n        menu.addMenuItem(Commands.NAVIGATE_GOTO_LINE);\n        menu.addMenuItem(Commands.NAVIGATE_GOTO_DEFINITION);\n        menu.addMenuItem(Commands.NAVIGATE_GOTO_DEFINITION_PROJECT);\n        menu.addMenuItem(Commands.NAVIGATE_JUMPTO_DEFINITION);\n        menu.addMenuItem(Commands.NAVIGATE_GOTO_FIRST_PROBLEM);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.NAVIGATE_NEXT_DOC);\n        menu.addMenuItem(Commands.NAVIGATE_PREV_DOC);\n        menu.addMenuItem(Commands.NAVIGATE_NEXT_DOC_LIST_ORDER);\n        menu.addMenuItem(Commands.NAVIGATE_PREV_DOC_LIST_ORDER);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.NAVIGATE_SHOW_IN_FILE_TREE);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.TOGGLE_QUICK_EDIT);\n        menu.addMenuItem(Commands.QUICK_EDIT_PREV_MATCH);\n        menu.addMenuItem(Commands.QUICK_EDIT_NEXT_MATCH);\n        menu.addMenuItem(Commands.CSS_QUICK_EDIT_NEW_RULE);\n        menu.addMenuDivider();\n        menu.addMenuItem(Commands.TOGGLE_QUICK_DOCS);\n\n        /*\n         * Help menu\n         */\n        menu = Menus.addMenu(Strings.HELP_MENU, Menus.AppMenuBar.HELP_MENU);\n        if (brackets.config.support_url) {\n            menu.addMenuItem(Commands.HELP_SUPPORT);\n        }\n        if (brackets.config.suggest_feature_url) {\n            menu.addMenuItem(Commands.HELP_SUGGEST);\n        }\n        if (brackets.config.get_involved_url) {\n            menu.addMenuItem(Commands.HELP_GET_INVOLVED);\n        }\n\n        var hasAboutItem = true;\n\n        // Add final divider only if we have a homepage URL or twitter URL or about item\n        if (hasAboutItem || brackets.config.homepage_url || brackets.config.twitter_url) {\n            menu.addMenuDivider();\n        }\n\n        if (brackets.config.homepage_url) {\n            menu.addMenuItem(Commands.HELP_HOMEPAGE);\n        }\n\n        if (brackets.config.twitter_url) {\n            menu.addMenuItem(Commands.HELP_TWITTER);\n        }\n        menu.addMenuDivider();\n        if (hasAboutItem) {\n            menu.addMenuItem(Commands.HELP_ABOUT);\n        }\n\n\n        /*\n         * Context Menus\n         */\n\n        // WorkingSet context menu - Unlike most context menus, we can't attach\n        // listeners here because the DOM nodes for each pane's working set are\n        // created dynamically. Each WorkingSetView attaches its own listeners.\n        var workingset_cmenu = Menus.registerContextMenu(Menus.ContextMenuIds.WORKING_SET_CONTEXT_MENU);\n        workingset_cmenu.addMenuItem(Commands.FILE_SAVE);\n        workingset_cmenu.addMenuItem(Commands.FILE_SAVE_AS);\n        workingset_cmenu.addMenuItem(Commands.FILE_RENAME);\n        workingset_cmenu.addMenuItem(Commands.NAVIGATE_SHOW_IN_FILE_TREE);\n        workingset_cmenu.addMenuDivider();\n        workingset_cmenu.addMenuItem(Commands.CMD_FIND_IN_SUBTREE);\n        workingset_cmenu.addMenuItem(Commands.CMD_REPLACE_IN_SUBTREE);\n        workingset_cmenu.addMenuDivider();\n        workingset_cmenu.addMenuItem(Commands.FILE_CLOSE);\n\n        var splitview_menu = Menus.registerContextMenu(Menus.ContextMenuIds.SPLITVIEW_MENU);\n        splitview_menu.addMenuItem(Commands.CMD_SPLITVIEW_NONE);\n        splitview_menu.addMenuItem(Commands.CMD_SPLITVIEW_VERTICAL);\n        splitview_menu.addMenuItem(Commands.CMD_SPLITVIEW_HORIZONTAL);\n        splitview_menu.addMenuDivider();\n        splitview_menu.addMenuItem(Commands.CMD_WORKINGSET_SORT_BY_ADDED);\n        splitview_menu.addMenuItem(Commands.CMD_WORKINGSET_SORT_BY_NAME);\n        splitview_menu.addMenuItem(Commands.CMD_WORKINGSET_SORT_BY_TYPE);\n        splitview_menu.addMenuDivider();\n        splitview_menu.addMenuItem(Commands.CMD_WORKING_SORT_TOGGLE_AUTO);\n        splitview_menu.addMenuItem(Commands.FILE_SHOW_FOLDERS_FIRST);\n\n        var project_cmenu = Menus.registerContextMenu(Menus.ContextMenuIds.PROJECT_MENU);\n        project_cmenu.addMenuItem(Commands.FILE_NEW);\n        project_cmenu.addMenuItem(Commands.FILE_NEW_FOLDER);\n        project_cmenu.addMenuDivider();\n        project_cmenu.addMenuItem(Commands.FILE_CUT);\n        project_cmenu.addMenuItem(Commands.FILE_COPY);\n        project_cmenu.addMenuItem(Commands.FILE_COPY_PATH);\n        project_cmenu.addMenuItem(Commands.FILE_PASTE);\n        project_cmenu.addMenuItem(Commands.FILE_DUPLICATE);\n        project_cmenu.addMenuItem(Commands.FILE_DOWNLOAD, undefined, undefined, undefined, {\n            hideWhenCommandDisabled: true\n        });\n        project_cmenu.addMenuDivider();\n        project_cmenu.addMenuItem(Commands.FILE_RENAME);\n        project_cmenu.addMenuItem(Commands.FILE_DELETE);\n        project_cmenu.addMenuDivider();\n        project_cmenu.addMenuItem(Commands.CMD_FIND_IN_SUBTREE);\n        project_cmenu.addMenuItem(Commands.CMD_REPLACE_IN_SUBTREE);\n        project_cmenu.addMenuDivider();\n        project_cmenu.addMenuItem(Commands.FILE_REFRESH);\n\n        var editor_cmenu = Menus.registerContextMenu(Menus.ContextMenuIds.EDITOR_MENU);\n        // editor_cmenu.addMenuItem(Commands.NAVIGATE_JUMPTO_DEFINITION);\n        editor_cmenu.addMenuItem(Commands.TOGGLE_QUICK_EDIT);\n        editor_cmenu.addMenuItem(Commands.TOGGLE_QUICK_DOCS);\n        editor_cmenu.addMenuItem(Commands.NAVIGATE_JUMPTO_DEFINITION);\n        editor_cmenu.addMenuItem(Commands.CMD_FIND_ALL_REFERENCES);\n        editor_cmenu.addMenuDivider();\n        editor_cmenu.addMenuItem(Commands.EDIT_CUT);\n        editor_cmenu.addMenuItem(Commands.EDIT_COPY);\n        if(window.Phoenix.browser.isTauri || !window.Phoenix.browser.desktop.isFirefox){\n            editor_cmenu.addMenuItem(Commands.EDIT_PASTE);\n        }\n        editor_cmenu.addMenuDivider();\n        editor_cmenu.addMenuItem(Commands.EDIT_SELECT_ALL);\n\n        var inline_editor_cmenu = Menus.registerContextMenu(Menus.ContextMenuIds.INLINE_EDITOR_MENU);\n        inline_editor_cmenu.addMenuItem(Commands.TOGGLE_QUICK_EDIT);\n        inline_editor_cmenu.addMenuItem(Commands.EDIT_SELECT_ALL);\n        inline_editor_cmenu.addMenuDivider();\n        inline_editor_cmenu.addMenuItem(Commands.QUICK_EDIT_PREV_MATCH);\n        inline_editor_cmenu.addMenuItem(Commands.QUICK_EDIT_NEXT_MATCH);\n\n        /**\n         * Context menu for code editors (both full-size and inline)\n         * Auto selects the word the user clicks if the click does not occur over\n         * an existing selection\n         */\n        $(\"#editor-holder\").on(\"contextmenu\", function (e) {\n            require([\"editor/EditorManager\"], function (EditorManager) {\n                if ($(e.target).parents(\".CodeMirror-gutter\").length !== 0) {\n                    return;\n                }\n\n                // Note: on mousedown before this event, CodeMirror automatically checks mouse pos, and\n                // if not clicking on a selection moves the cursor to click location. When triggered\n                // from keyboard, no pre-processing occurs and the cursor/selection is left as is.\n\n                var editor = EditorManager.getFocusedEditor(),\n                    inlineWidget = EditorManager.getFocusedInlineWidget();\n\n                if (editor) {\n                    //if (!editor.hasSelection()) {\n                        // Prevent menu from overlapping text by moving it down a little\n                        // Temporarily backout this change for now to help mitigate issue #1111,\n                        // which only happens if mouse is not over context menu. Better fix\n                        // requires change to bootstrap, which is too risky for now.\n                        //e.pageY += 6;\n                    //}\n\n                    // Inline text editors have a different context menu (safe to assume it's not some other\n                    // type of inline widget since we already know an Editor has focus)\n                    if (inlineWidget) {\n                        inline_editor_cmenu.open(e);\n                    } else {\n                        editor_cmenu.open(e);\n                    }\n                }\n            });\n        });\n\n        /**\n         * Context menu for folder tree\n         */\n        $(\"#project-files-container\").on(\"contextmenu\", function (e) {\n            project_cmenu.open(e);\n        });\n\n        // Dropdown menu for view splitting\n        Menus.ContextMenu.assignContextMenuToSelector(\".working-set-splitview-btn\", splitview_menu);\n\n        // Prevent the browser context menu since Brackets creates a custom context menu\n        $(window).contextmenu(function (e) {\n            e.preventDefault();\n        });\n\n        /*\n         * General menu event processing\n         */\n        // Prevent clicks on top level menus and menu items from taking focus\n        $(window.document).on(\"mousedown\", \".dropdown\", function (e) {\n            e.preventDefault();\n        });\n\n        // Switch menus when the mouse enters an adjacent menu\n        // Only open the menu if another one has already been opened\n        // by clicking\n        $(window.document).on(\"mouseenter\", \"#titlebar .dropdown\", function (e) {\n            var open = $(this).siblings(\".open\");\n            if (open.length > 0) {\n                open.removeClass(\"open\");\n                $(this).addClass(\"open\");\n            }\n        });\n        // Check the visibility of context menu items before opening the context menu.\n        // 'Rename', 'Show in file tree' and 'Show in explorer' items will be disabled for files that have not yet been saved to disk.\n        Menus.getContextMenu(Menus.ContextMenuIds.WORKING_SET_CONTEXT_MENU).on(\"beforeContextMenuOpen\", _setMenuItemsVisible);\n        Menus.getContextMenu(Menus.ContextMenuIds.PROJECT_MENU).on(\"beforeContextMenuOpen\", _setMenuItemsVisible);\n    });\n});\n"],"file":"DefaultMenus.js"}