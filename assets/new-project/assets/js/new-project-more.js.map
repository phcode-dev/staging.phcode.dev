{"version":3,"sources":["assets/new-project/assets/js/new-project-more.js"],"names":["$sampleProjectsList","_getIconURL","iconURL","startsWith","navigateToURL","url","metricLabel","Metrics","countEvent","EVENT_TYPE","NEW_PROJECT","location","href","_openURL","title","window","parent","brackets","app","openURLInDefaultBrowser","_addProjectEntries","$projectList","sampleProjectsList","sectionTag","projects","sections","project","Object","keys","projectDetails","licenseDetails","LICENCES","translatedTitle","Strings","previewURL","getPhoenixAbsURL","externalURL","append","zipURL","getNewProjectFromURL","license","licenseURL","credits","creditsURL","backURL","_createProjectEntries","translatedSectionHeading","projectListID","$","initMoreProjects","sampleProjectsListURL","fetch","then","response","json","data"],"mappings":"AAyBA,IAAIA,oBAEJ,SAASC,YAAYC,SACjB,MAAe,cAAZA,QACQ,4BACW,YAAZA,QACC,kBACDA,UAAYA,QAAQC,WAAW,aAAeD,QAAQC,WAAW,YACpED,QAAQC,WAAW,eAAiBD,QAAQC,WAAW,aACnDD,QAEJ,sBAGX,SAASE,cAAcC,IAAKC,aACxBC,QAAQC,WAAWD,QAAQE,WAAWC,YAAa,qBAAsBJ,aACzEK,SAASC,KAAOP,IAGpB,SAASQ,SAASC,MAAOT,KACrBE,QAAQC,WAAWD,QAAQE,WAAWC,YAAa,qBAAsBI,OACzEC,OAAOC,OAAOC,SAASC,IAAIC,wBAAwBd,KAGvD,SAASe,mBAAmBC,aAAcC,mBAAoBC,YAC1D,IAAIC,SAAWF,mBAAmBG,SAASF,YAC3C,IAAI,IAAIG,WAAWC,OAAOC,KAAKJ,UAAU,CACrC,IAAIK,eAAiBP,mBAAmBG,SAASF,YAAYG,SACzDI,eAAiBR,mBAAmBS,SAASF,eAAeE,UAC5DC,gBAAkBC,QAAQJ,eAAef,QAAUe,eAAef,OAASY,QAC3EQ,WAAaC,iBAAiBN,eAAeK,YACjD,GAAGL,eAAeO,YAAY,CAC1Bf,aAAagB,8GAEaR,eAAef,YAAYe,eAAeO,8DACpCnC,YAAY4B,eAAe3B,yCAC3C8B,mEAGhB,SAEJ,IAAIM,OAASH,iBAAiBN,eAAeS,QACzCjC,IAAMkC,qBAAqBD,OAAQN,gBAAiBA,gBACpD,CACIQ,QAASV,eAAeU,QACxBC,WAAYX,eAAeW,WAC3BC,QAASZ,eAAeY,QACxBC,WAAWb,eAAea,WAC1BC,QAAS,wBACTV,WAAYA,aAEpBb,aAAagB,iGAC8DhC,UAAUqB,0DACjDzB,YAAY4B,eAAe3B,yCAC3C8B,oEAM5B,SAASa,sBAAsBvB,oBAC3B,IAAI,IAAIC,cAAcI,OAAOC,KAAKN,mBAAmBG,UAAU,CAC3D,IAAIqB,yBAA2Bb,QAAQV,aAAeA,WAClDwB,iBAAmBxB,kBAInBF,aAHJrB,oBAAoBqC,gJAC8BS,oEAC5BC,+EAEtB3B,mBADmB4B,MAAMD,iBACQzB,mBAAoBC,aAI7D,SAAS0B,mBACLjD,oBAAsBgD,EAAE,uBACxB,IAAIE,sBAAwBf,iBAAiB,gDAC7CgB,MAAMD,uBACDE,KAAKC,UAAYA,SAASC,QAC1BF,KAAKG,MAAQV,sBAAsBU","sourcesContent":["/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it\n * under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License\n * for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n/*global getPhoenixAbsURL, Strings, Metrics, getNewProjectFromURL*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n/* jshint ignore:start */\n\nlet $sampleProjectsList;\n\nfunction _getIconURL(iconURL) {\n    if(iconURL === 'bootstrap'){\n        return 'images/Bootstrap_logo.svg';\n    } else if(iconURL === 'appLogo'){\n        return 'images/logo.png';\n    } else if(iconURL && (iconURL.startsWith(\"https://\") || iconURL.startsWith(\"http://\")\n        || iconURL.startsWith(\"phtauri://\") || iconURL.startsWith(\"asset://\"))){\n        return iconURL;\n    }\n    return 'images/tab-img2.png'; // HTML icon\n}\n\nfunction navigateToURL(url, metricLabel) {\n    Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT, \"moreProjects.Click\", metricLabel);\n    location.href = url;\n}\n\nfunction _openURL(title, url) {\n    Metrics.countEvent(Metrics.EVENT_TYPE.NEW_PROJECT, \"moreProjects.Click\", title);\n    window.parent.brackets.app.openURLInDefaultBrowser(url);\n}\n\nfunction _addProjectEntries($projectList, sampleProjectsList, sectionTag) {\n    let projects = sampleProjectsList.sections[sectionTag];\n    for(let project of Object.keys(projects)){\n        let projectDetails = sampleProjectsList.sections[sectionTag][project];\n        let licenseDetails = sampleProjectsList.LICENCES[projectDetails.LICENCES];\n        let translatedTitle = Strings[projectDetails.title] || projectDetails.title || project;\n        let previewURL = getPhoenixAbsURL(projectDetails.previewURL);\n        if(projectDetails.externalURL){\n            $projectList.append(`<li>\n                <a class=\"tabable\" tabindex=\"1\" href=\"#\"\n                 onclick=\"_openURL('${projectDetails.title}', '${projectDetails.externalURL}')\">\n                    <img alt=\"image\" src=\"${_getIconURL(projectDetails.iconURL)}\">\n                    <span>${translatedTitle}</span>\n                </a>\n            </li>`);\n            continue;\n        }\n        let zipURL = getPhoenixAbsURL(projectDetails.zipURL);\n        let url = getNewProjectFromURL(zipURL, translatedTitle, translatedTitle,\n            {\n                license: licenseDetails.license,\n                licenseURL: licenseDetails.licenseURL,\n                credits: licenseDetails.credits,\n                creditsURL:licenseDetails.creditsURL,\n                backURL: \"new-project-more.html\",\n                previewURL: previewURL\n            });\n        $projectList.append(`<li>\n                <a class=\"tabable\" tabindex=\"1\" href=\"#\" onclick=\"navigateToURL('${url}', '${project}')\">\n                    <img alt=\"image\" src=\"${_getIconURL(projectDetails.iconURL)}\">\n                    <span>${translatedTitle}</span>\n                </a>\n            </li>`);\n    }\n}\n\nfunction _createProjectEntries(sampleProjectsList) {\n    for(let sectionTag of Object.keys(sampleProjectsList.sections)){\n        let translatedSectionHeading = Strings[sectionTag] || sectionTag;\n        let projectListID = `${sectionTag}-list`;\n        $sampleProjectsList.append(`<div class=\"project-head d-flex align-items-center justify-content-between\">\n                    <h4 class=\"tab-title mb-0 localize\">${translatedSectionHeading}</h4></div>\n                    <ul id=\"${projectListID}\" class=\"project-type-list d-flex flex-wrap text-center\"></ul>`);\n        let $projectList = $(`#${projectListID}`);\n        _addProjectEntries($projectList, sampleProjectsList, sectionTag);\n    }\n}\n\nfunction initMoreProjects() {\n    $sampleProjectsList = $(\"#sampleProjectsList\");\n    let sampleProjectsListURL = getPhoenixAbsURL(\"assets/sample-projects/new-project-list.json\");\n    fetch(sampleProjectsListURL)\n        .then(response => response.json())\n        .then(data => _createProjectEntries(data));\n}\n"],"file":"new-project-more.js"}