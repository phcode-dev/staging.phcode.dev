!function(global){var WebSocketTransport={_ws:null,_callbacks:null,setCallbacks:function(callbacks){global._Brackets_LiveDev_Socket_Transport_URL?this._callbacks=callbacks:console.error("[Brackets LiveDev] No socket transport URL injected")},connect:function(url){var self=this;this._ws=new WebSocket(url),this._ws.onopen=function(event){self._ws.send(JSON.stringify({type:"connect",url:global.location.href})),console.log("[Brackets LiveDev] Connected to Brackets at "+url),self._callbacks&&self._callbacks.connect&&self._callbacks.connect()},this._ws.onmessage=function(event){console.log("[Brackets LiveDev] Got message: "+event.data),self._callbacks&&self._callbacks.message&&self._callbacks.message(event.data)},this._ws.onclose=function(event){self._ws=null,self._callbacks&&self._callbacks.close&&self._callbacks.close()}},send:function(msgStr){this._ws?this._ws.send(JSON.stringify({type:"message",message:msgStr})):console.log("[Brackets LiveDev] Tried to send message over closed connection: "+msgStr)},enable:function(){this.connect(global._Brackets_LiveDev_Socket_Transport_URL)}};global._Brackets_LiveDev_Transport=WebSocketTransport}(this);
//# sourceMappingURL=NodeSocketTransportRemote.js.map
