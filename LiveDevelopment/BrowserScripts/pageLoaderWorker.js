let _livePreviewNavigationChannel;function _setupBroadcastChannel(broadcastChannel,clientID){function _sendOnlineHeartbeat(){_livePreviewNavigationChannel.postMessage({type:"TAB_ONLINE",clientID:clientID,URL:location.href})}broadcastChannel&&((_livePreviewNavigationChannel=new BroadcastChannel(broadcastChannel)).onmessage=(event=>{const type=event.data.type;switch(type){case"REDIRECT_PAGE":postMessage({type:type,URL:event.data.URL})}}),_sendOnlineHeartbeat(),setInterval(()=>{_sendOnlineHeartbeat()},3e3))}function updateTitleAndFavicon(event){_livePreviewNavigationChannel.postMessage({type:"UPDATE_TITLE_AND_ICON",title:event.data.title,faviconBase64:event.data.faviconBase64,URL:location.href})}onmessage=(event=>{const type=event.data.type;switch(type){case"setupBroadcast":_setupBroadcastChannel(event.data.broadcastChannel,event.data.clientID);break;case"updateTitleIcon":updateTitleAndFavicon(event);break;default:console.error("Live Preview page worker: received unknown event:",event)}});
//# sourceMappingURL=pageLoaderWorker.js.map
