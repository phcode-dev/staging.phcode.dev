{"version":3,"sources":["thirdparty/CodeMirror/addon/display/rulers.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","drawRulers","cm","state","rulerDiv","textContent","val","getOption","cw","defaultCharWidth","left","charCoords","Pos","firstLine","style","minHeight","display","scroller","offsetHeight","i","length","elt","document","createElement","className","col","conf","column","color","borderColor","lineStyle","borderLeftStyle","width","borderLeftWidth","appendChild","defineOption","parentElement","removeChild","off","lineSpace","insertBefore","on"],"mappings":"CAGA,SAAUA,KACc,iBAAXC,SAAwC,iBAAVC,OACvCF,IAAIG,QAAQ,yBACY,mBAAVC,QAAwBA,OAAOC,IAC7CD,OAAO,CAAC,wBAAyBJ,KAEjCA,IAAIM,YANR,CAOG,SAASA,YACV,aAgBA,SAASC,WAAWC,IAClBA,GAAGC,MAAMC,SAASC,YAAc,GAChC,IAAIC,IAAMJ,GAAGK,UAAU,UACnBC,GAAKN,GAAGO,mBACRC,KAAOR,GAAGS,WAAWX,WAAWY,IAAIV,GAAGW,YAAa,GAAI,OAAOH,KACnER,GAAGC,MAAMC,SAASU,MAAMC,UAAab,GAAGc,QAAQC,SAASC,aAAe,GAAM,KAC9E,IAAK,IAAIC,EAAI,EAAGA,EAAIb,IAAIc,OAAQD,IAAK,CACnC,IAAIE,IAAMC,SAASC,cAAc,OACjCF,IAAIG,UAAY,mBAChB,IAAIC,IAAKC,KAAOpB,IAAIa,GACD,iBAARO,KACTD,IAAMC,MAEND,IAAMC,KAAKC,OACPD,KAAKF,YAAWH,IAAIG,WAAa,IAAME,KAAKF,WAC5CE,KAAKE,QAAOP,IAAIP,MAAMe,YAAcH,KAAKE,OACzCF,KAAKI,YAAWT,IAAIP,MAAMiB,gBAAkBL,KAAKI,WACjDJ,KAAKM,QAAOX,IAAIP,MAAMmB,gBAAkBP,KAAKM,QAEnDX,IAAIP,MAAMJ,KAAQA,KAAOe,IAAMjB,GAAM,KACrCN,GAAGC,MAAMC,SAAS8B,YAAYb,MAlClCrB,WAAWmC,aAAa,UAAU,EAAO,SAASjC,GAAII,KAChDJ,GAAGC,MAAMC,WACXF,GAAGC,MAAMC,SAASgC,cAAcC,YAAYnC,GAAGC,MAAMC,UACrDF,GAAGC,MAAMC,SAAW,KACpBF,GAAGoC,IAAI,UAAWrC,aAEhBK,KAAOA,IAAIc,SACblB,GAAGC,MAAMC,SAAWF,GAAGc,QAAQuB,UAAUH,cAAcI,aAAalB,SAASC,cAAc,OAAQrB,GAAGc,QAAQuB,WAC9GrC,GAAGC,MAAMC,SAASoB,UAAY,oBAC9BvB,WAAWC,IACXA,GAAGuC,GAAG,UAAWxC","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"rulers\", false, function(cm, val) {\n    if (cm.state.rulerDiv) {\n      cm.state.rulerDiv.parentElement.removeChild(cm.state.rulerDiv)\n      cm.state.rulerDiv = null\n      cm.off(\"refresh\", drawRulers)\n    }\n    if (val && val.length) {\n      cm.state.rulerDiv = cm.display.lineSpace.parentElement.insertBefore(document.createElement(\"div\"), cm.display.lineSpace)\n      cm.state.rulerDiv.className = \"CodeMirror-rulers\"\n      drawRulers(cm)\n      cm.on(\"refresh\", drawRulers)\n    }\n  });\n\n  function drawRulers(cm) {\n    cm.state.rulerDiv.textContent = \"\"\n    var val = cm.getOption(\"rulers\");\n    var cw = cm.defaultCharWidth();\n    var left = cm.charCoords(CodeMirror.Pos(cm.firstLine(), 0), \"div\").left;\n    cm.state.rulerDiv.style.minHeight = (cm.display.scroller.offsetHeight + 30) + \"px\";\n    for (var i = 0; i < val.length; i++) {\n      var elt = document.createElement(\"div\");\n      elt.className = \"CodeMirror-ruler\";\n      var col, conf = val[i];\n      if (typeof conf == \"number\") {\n        col = conf;\n      } else {\n        col = conf.column;\n        if (conf.className) elt.className += \" \" + conf.className;\n        if (conf.color) elt.style.borderColor = conf.color;\n        if (conf.lineStyle) elt.style.borderLeftStyle = conf.lineStyle;\n        if (conf.width) elt.style.borderLeftWidth = conf.width;\n      }\n      elt.style.left = (left + col * cw) + \"px\";\n      cm.state.rulerDiv.appendChild(elt)\n    }\n  }\n});\n"],"file":"rulers.js"}