{"version":3,"sources":["languageTools/node/RegisterLanguageClientInfo.js"],"names":["domainName","LANGUAGE_CLIENT_RELATIVE_PATH_ARRAY","FORWARD_SLASH","BACKWARD_SLASH","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","Folder","EnumMember","Constant","Struct","Event","Operator","TypeParameter","SymbolKind","Namespace","Package","String","Number","Boolean","Array","Object","Key","Null","defaultBracketsCapabilities","workspace","workspaceFolders","symbol","dynamicRegistration","symbolKind","textDocument","synchronization","didSave","completion","completionItem","deprecatedSupport","documentationFormat","preselectSupport","completionItemKind","valueSet","contextSupport","signatureHelp","signatureInformation","references","documentSymbol","hierarchicalDocumentSymbolSupport","definition","declaration","typeDefinition","implementation","publishDiagnostics","relatedInformation","syncPreferences","prefs","global","LanguageClientInfo","preferences","initialize","bracketsSourcePath","toolingInfo","resolve","normalizedBracketsSourcePath","bracketsSourcePathArray","languageClientAbsolutePath","split","join","concat","languageClientPath","init","domainManager","hasDomain","registerDomain","major","minor","registerCommand","name","type","description","exports"],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2019 - present Adobe. All rights reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n *\n */\n\n/*global exports*/\n/*eslint-env es6, node*/\n/*eslint max-len: [\"error\", { \"code\": 200 }]*/\n\n\nvar domainName = \"LanguageClientInfo\",\n    LANGUAGE_CLIENT_RELATIVE_PATH_ARRAY = [\"languageTools\", \"LanguageClient\", \"LanguageClient\"],\n    FORWARD_SLASH = \"/\",\n    BACKWARD_SLASH = \"\\\\\",\n    CompletionItemKind = {\n        Text: 1,\n        Method: 2,\n        Function: 3,\n        Constructor: 4,\n        Field: 5,\n        Variable: 6,\n        Class: 7,\n        Interface: 8,\n        Module: 9,\n        Property: 10,\n        Unit: 11,\n        Value: 12,\n        Enum: 13,\n        Keyword: 14,\n        Snippet: 15,\n        Color: 16,\n        File: 17,\n        Reference: 18,\n        Folder: 19,\n        EnumMember: 20,\n        Constant: 21,\n        Struct: 22,\n        Event: 23,\n        Operator: 24,\n        TypeParameter: 25\n    },\n    SymbolKind = {\n        File: 1,\n        Module: 2,\n        Namespace: 3,\n        Package: 4,\n        Class: 5,\n        Method: 6,\n        Property: 7,\n        Field: 8,\n        Constructor: 9,\n        Enum: 10,\n        Interface: 11,\n        Function: 12,\n        Variable: 13,\n        Constant: 14,\n        String: 15,\n        Number: 16,\n        Boolean: 17,\n        Array: 18,\n        Object: 19,\n        Key: 20,\n        Null: 21,\n        EnumMember: 22,\n        Struct: 23,\n        Event: 24,\n        Operator: 25,\n        TypeParameter: 26\n    },\n    defaultBracketsCapabilities = {\n        //brackets default capabilties\n        \"workspace\": {\n            \"workspaceFolders\": true,\n            \"symbol\": {\n                \"dynamicRegistration\": false,\n                \"symbolKind\": [\n                    SymbolKind.File,\n                    SymbolKind.Module,\n                    SymbolKind.Namespace,\n                    SymbolKind.Package,\n                    SymbolKind.Class,\n                    SymbolKind.Method,\n                    SymbolKind.Property,\n                    SymbolKind.Field,\n                    SymbolKind.Constructor,\n                    SymbolKind.Enum,\n                    SymbolKind.Interface,\n                    SymbolKind.Function,\n                    SymbolKind.Variable,\n                    SymbolKind.Constant,\n                    SymbolKind.String,\n                    SymbolKind.Number,\n                    SymbolKind.Boolean,\n                    SymbolKind.Array,\n                    SymbolKind.Object,\n                    SymbolKind.Key,\n                    SymbolKind.Null,\n                    SymbolKind.EnumMember,\n                    SymbolKind.Struct,\n                    SymbolKind.Event,\n                    SymbolKind.Operator,\n                    SymbolKind.TypeParameter\n                ]\n            }\n        },\n        \"textDocument\": {\n            \"synchronization\": {\n                \"didSave\": true\n            },\n            \"completion\": {\n                \"dynamicRegistration\": false,\n                \"completionItem\": {\n                    \"deprecatedSupport\": true,\n                    \"documentationFormat\": [\"plaintext\"],\n                    \"preselectSupport\": true\n                },\n                \"completionItemKind\": {\n                    \"valueSet\": [\n                        CompletionItemKind.Text,\n                        CompletionItemKind.Method,\n                        CompletionItemKind.Function,\n                        CompletionItemKind.Constructor,\n                        CompletionItemKind.Field,\n                        CompletionItemKind.Variable,\n                        CompletionItemKind.Class,\n                        CompletionItemKind.Interface,\n                        CompletionItemKind.Module,\n                        CompletionItemKind.Property,\n                        CompletionItemKind.Unit,\n                        CompletionItemKind.Value,\n                        CompletionItemKind.Enum,\n                        CompletionItemKind.Keyword,\n                        CompletionItemKind.Snippet,\n                        CompletionItemKind.Color,\n                        CompletionItemKind.File,\n                        CompletionItemKind.Reference,\n                        CompletionItemKind.Folder,\n                        CompletionItemKind.EnumMember,\n                        CompletionItemKind.Constant,\n                        CompletionItemKind.Struct,\n                        CompletionItemKind.Event,\n                        CompletionItemKind.Operator,\n                        CompletionItemKind.TypeParameter\n                    ]\n                },\n                \"contextSupport\": true\n            },\n            \"signatureHelp\": {\n                \"dynamicRegistration\": false,\n                \"signatureInformation\": {\n                    \"documentationFormat\": [\"plaintext\"]\n                }\n            },\n            \"references\": {\n                \"dynamicRegistration\": false\n            },\n            \"documentSymbol\": {\n                \"dynamicRegistration\": false,\n                \"symbolKind\": {\n                    \"valueSet\": [\n                        SymbolKind.File,\n                        SymbolKind.Module,\n                        SymbolKind.Namespace,\n                        SymbolKind.Package,\n                        SymbolKind.Class,\n                        SymbolKind.Method,\n                        SymbolKind.Property,\n                        SymbolKind.Field,\n                        SymbolKind.Constructor,\n                        SymbolKind.Enum,\n                        SymbolKind.Interface,\n                        SymbolKind.Function,\n                        SymbolKind.Variable,\n                        SymbolKind.Constant,\n                        SymbolKind.String,\n                        SymbolKind.Number,\n                        SymbolKind.Boolean,\n                        SymbolKind.Array,\n                        SymbolKind.Object,\n                        SymbolKind.Key,\n                        SymbolKind.Null,\n                        SymbolKind.EnumMember,\n                        SymbolKind.Struct,\n                        SymbolKind.Event,\n                        SymbolKind.Operator,\n                        SymbolKind.TypeParameter\n                    ]\n                },\n                \"hierarchicalDocumentSymbolSupport\": false\n            },\n            \"definition\": {\n                \"dynamicRegistration\": false\n            },\n            \"declaration\": {\n                \"dynamicRegistration\": false\n            },\n            \"typeDefinition\": {\n                \"dynamicRegistration\": false\n            },\n            \"implementation\": {\n                \"dynamicRegistration\": false\n            },\n            \"publishDiagnostics\": {\n                \"relatedInformation\": true\n            }\n        }\n    };\n\nfunction syncPreferences(prefs) {\n    global.LanguageClientInfo = global.LanguageClientInfo || {};\n    global.LanguageClientInfo.preferences = prefs || global.LanguageClientInfo.preferences || {};\n}\n\nfunction initialize(bracketsSourcePath, toolingInfo, resolve) {\n    if (!bracketsSourcePath || !toolingInfo) {\n        resolve(true, null); //resolve with err param\n    }\n\n    var normalizedBracketsSourcePath = bracketsSourcePath.split(BACKWARD_SLASH).join(FORWARD_SLASH),\n        bracketsSourcePathArray = normalizedBracketsSourcePath.split(FORWARD_SLASH),\n        languageClientAbsolutePath = bracketsSourcePathArray.concat(LANGUAGE_CLIENT_RELATIVE_PATH_ARRAY).join(FORWARD_SLASH);\n\n    global.LanguageClientInfo = global.LanguageClientInfo || {};\n    global.LanguageClientInfo.languageClientPath = languageClientAbsolutePath;\n    global.LanguageClientInfo.defaultBracketsCapabilities = defaultBracketsCapabilities;\n    global.LanguageClientInfo.toolingInfo = toolingInfo;\n    global.LanguageClientInfo.preferences = {};\n\n    resolve(null, true); //resolve with boolean denoting success\n}\n\nfunction init(domainManager) {\n    if (!domainManager.hasDomain(domainName)) {\n        domainManager.registerDomain(domainName, {\n            major: 0,\n            minor: 1\n        });\n    }\n\n    domainManager.registerCommand(\n        domainName,\n        \"initialize\",\n        initialize,\n        true,\n        \"Initialize node environment for Language Client Module\",\n        [\n            {\n                name: \"bracketsSourcePath\",\n                type: \"string\",\n                description: \"Absolute path to the brackets source\"\n            },\n            {\n                name: \"toolingInfo\",\n                type: \"object\",\n                description: \"Tooling Info json to be used by Language Client\"\n            }\n        ],\n        []\n    );\n\n    domainManager.registerCommand(\n        domainName,\n        \"syncPreferences\",\n        syncPreferences,\n        false,\n        \"Sync language tools preferences for Language Client Module\",\n        [\n            {\n                name: \"prefs\",\n                type: \"object\",\n                description: \"Language tools preferences\"\n            }\n        ],\n        []\n    );\n}\n\nexports.init = init;\n"],"file":"RegisterLanguageClientInfo.js"}