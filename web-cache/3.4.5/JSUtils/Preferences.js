define(function(require,exports,module){var StringUtils=require("utils/StringUtils");function settingsToRegExp(settings,baseRegExp,defaultRegExp){var regExpString="";if(settings instanceof Array&&settings.length>0&&(baseRegExp&&settings.push("/"+baseRegExp.source+"/"),settings.forEach(function(value,index){var isRegExp;"string"==typeof value&&(value="/"===value[0]&&"/"===value[value.length-1]?value.substring(1,value.length-1):"^"+(value=(value=(value=StringUtils.regexEscape(value)).replace("\\?",".?")).replace("\\*",".*"))+"$",index>0&&(regExpString+="|"),regExpString=regExpString.concat(value))})),!regExpString){var defaultParts=[];if(baseRegExp&&defaultParts.push(baseRegExp.source),defaultRegExp&&defaultParts.push(defaultRegExp.source),!(defaultParts.length>0))return null;regExpString=defaultParts.join("|")}return new RegExp(regExpString)}function Preferences(prefs){var BASE_EXCLUDED_DIRECTORIES=null,DEFAULT_EXCLUDED_DIRECTORIES=/node_modules/,BASE_EXCLUDED_FILES=/^require.*\.js$|^jquery.*\.js$/,DEFAULT_MAX_FILE_COUNT=100,DEFAULT_MAX_FILE_SIZE=524288;prefs?(this._excludedDirectories=settingsToRegExp(prefs["excluded-directories"],null,DEFAULT_EXCLUDED_DIRECTORIES),this._excludedFiles=settingsToRegExp(prefs["excluded-files"],BASE_EXCLUDED_FILES),this._maxFileCount=prefs["max-file-count"],this._maxFileSize=prefs["max-file-size"],(!this._maxFileCount||this._maxFileCount<0)&&(this._maxFileCount=100),(!this._maxFileSize||this._maxFileSize<0)&&(this._maxFileSize=524288)):(this._excludedDirectories=DEFAULT_EXCLUDED_DIRECTORIES,this._excludedFiles=BASE_EXCLUDED_FILES,this._maxFileCount=100,this._maxFileSize=524288)}Preferences.FILE_NAME=".jscodehints",Preferences.prototype.getExcludedDirectories=function(){return this._excludedDirectories},Preferences.prototype.getExcludedFiles=function(){return this._excludedFiles},Preferences.prototype.getMaxFileCount=function(){return this._maxFileCount},Preferences.prototype.getMaxFileSize=function(){return this._maxFileSize},module.exports=Preferences});
//# sourceMappingURL=Preferences.js.map
