{"version":3,"sources":["thirdparty/CodeMirror/addon/scroll/scrollpastend.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","onChange","cm","change","changeEnd","line","lastLine","updateBottomMargin","padding","totalH","lastLineH","lineCount","display","scroller","clientHeight","getLineHandle","height","state","scrollPastEndPadding","lineSpace","parentNode","style","paddingBottom","off","setSize","on","defineOption","val","old","Init"],"mappings":"CAGA,SAAUA,KACc,iBAAXC,SAAwC,iBAAVC,OACvCF,IAAIG,QAAQ,yBACY,mBAAVC,QAAwBA,OAAOC,IAC7CD,OAAO,CAAC,wBAAyBJ,KAEjCA,IAAIM,YANR,CAOG,SAASA,YACV,aAgBA,SAASC,SAASC,GAAIC,QAChBH,WAAWI,UAAUD,QAAQE,MAAQH,GAAGI,YAC1CC,mBAAmBL,IAGvB,SAASK,mBAAmBL,IAC1B,IAAIM,QAAU,GAERC,OACAC,UAFFR,GAAGS,YAAc,IAGnBH,QAFaN,GAAGU,QAAQC,SAASC,aAAe,GAChCZ,GAAGa,cAAcb,GAAGI,YAAYU,OACf,MAE/Bd,GAAGe,MAAMC,sBAAwBV,UACnCN,GAAGe,MAAMC,qBAAuBV,QAChCN,GAAGU,QAAQO,UAAUC,WAAWC,MAAMC,cAAgBd,QACtDN,GAAGqB,IAAI,UAAWhB,oBAClBL,GAAGsB,UACHtB,GAAGuB,GAAG,UAAWlB,qBA/BrBP,WAAW0B,aAAa,iBAAiB,EAAO,SAASxB,GAAIyB,IAAKC,KAC5DA,KAAOA,KAAO5B,WAAW6B,OAC3B3B,GAAGqB,IAAI,SAAUtB,UACjBC,GAAGqB,IAAI,UAAWhB,oBAClBL,GAAGU,QAAQO,UAAUC,WAAWC,MAAMC,cAAgB,GACtDpB,GAAGe,MAAMC,qBAAuB,MAE9BS,MACFzB,GAAGuB,GAAG,SAAUxB,UAChBC,GAAGuB,GAAG,UAAWlB,oBACjBA,mBAAmBL","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"scrollPastEnd\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"change\", onChange);\n      cm.off(\"refresh\", updateBottomMargin);\n      cm.display.lineSpace.parentNode.style.paddingBottom = \"\";\n      cm.state.scrollPastEndPadding = null;\n    }\n    if (val) {\n      cm.on(\"change\", onChange);\n      cm.on(\"refresh\", updateBottomMargin);\n      updateBottomMargin(cm);\n    }\n  });\n\n  function onChange(cm, change) {\n    if (CodeMirror.changeEnd(change).line == cm.lastLine())\n      updateBottomMargin(cm);\n  }\n\n  function updateBottomMargin(cm) {\n    var padding = \"\";\n    if (cm.lineCount() > 1) {\n      var totalH = cm.display.scroller.clientHeight - 30,\n          lastLineH = cm.getLineHandle(cm.lastLine()).height;\n      padding = (totalH - lastLineH) + \"px\";\n    }\n    if (cm.state.scrollPastEndPadding != padding) {\n      cm.state.scrollPastEndPadding = padding;\n      cm.display.lineSpace.parentNode.style.paddingBottom = padding;\n      cm.off(\"refresh\", updateBottomMargin);\n      cm.setSize();\n      cm.on(\"refresh\", updateBottomMargin);\n    }\n  }\n});\n"],"file":"scrollpastend.js"}